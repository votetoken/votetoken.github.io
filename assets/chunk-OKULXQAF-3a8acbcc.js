import{K as jr,_ as En}from"./index-e4d6fab6.js";var Cn={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function s(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function o(c,u,l,d,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new s(l,d||c,h),f=n?n+u:u;return c._events[f]?c._events[f].fn?c._events[f]=[c._events[f],p]:c._events[f].push(p):(c._events[f]=p,c._eventsCount++),c}function i(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)t.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,p=d.length,f=new Array(p);h<p;h++)f[h]=d[h].fn;return f},a.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,h,p,f){var m=n?n+u:u;if(!this._events[m])return!1;var b=this._events[m],y=arguments.length,g,w;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),y){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,l),!0;case 3:return b.fn.call(b.context,l,d),!0;case 4:return b.fn.call(b.context,l,d,h),!0;case 5:return b.fn.call(b.context,l,d,h,p),!0;case 6:return b.fn.call(b.context,l,d,h,p,f),!0}for(w=1,g=new Array(y-1);w<y;w++)g[w-1]=arguments[w];b.fn.apply(b.context,g)}else{var C=b.length,P;for(w=0;w<C;w++)switch(b[w].once&&this.removeListener(u,b[w].fn,void 0,!0),y){case 1:b[w].fn.call(b[w].context);break;case 2:b[w].fn.call(b[w].context,l);break;case 3:b[w].fn.call(b[w].context,l,d);break;case 4:b[w].fn.call(b[w].context,l,d,h);break;default:if(!g)for(P=1,g=new Array(y-1);P<y;P++)g[P-1]=arguments[P];b[w].fn.apply(b[w].context,g)}}return!0},a.prototype.on=function(u,l,d){return o(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return o(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,h){var p=n?n+u:u;if(!this._events[p])return this;if(!l)return i(this,p),this;var f=this._events[p];if(f.fn)f.fn===l&&(!h||f.once)&&(!d||f.context===d)&&i(this,p);else{for(var m=0,b=[],y=f.length;m<y;m++)(f[m].fn!==l||h&&!f[m].once||d&&f[m].context!==d)&&b.push(f[m]);b.length?this._events[p]=b.length===1?b[0]:b:i(this,p)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&i(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,e.exports=a})(Cn);var Nr=Cn.exports;const Br=jr(Nr);var mc={id:56,name:"BNB Smart Chain",network:"bsc",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://rpc.ankr.com/bsc"]},public:{http:["https://rpc.ankr.com/bsc"]}},blockExplorers:{etherscan:{name:"BscScan",url:"https://bscscan.com"},default:{name:"BscScan",url:"https://bscscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}},Mr={id:5,network:"goerli",name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-goerli.g.alchemy.com/v2"],webSocket:["wss://eth-goerli.g.alchemy.com/v2"]},infura:{http:["https://goerli.infura.io/v3"],webSocket:["wss://goerli.infura.io/ws/v3"]},default:{http:["https://rpc.ankr.com/eth_goerli"]},public:{http:["https://rpc.ankr.com/eth_goerli"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://goerli.etherscan.io"},default:{name:"Etherscan",url:"https://goerli.etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0x56522D00C410a43BFfDF00a9A569489297385790",blockCreated:8765204},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0},Rr={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc0497E381f536Be9ce14B0dD3817cBcAe57d2F62",blockCreated:16966585},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}};const Dr="1.0.6",Lr=e=>e,De=e=>e,zr=()=>`viem@${Dr}`;class v extends Error{constructor(t,n={}){var o;super(),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ViemError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:zr()});const r=n.cause instanceof v?n.cause.details:(o=n.cause)!=null&&o.message?n.cause.message:n.details,s=n.cause instanceof v&&n.cause.docsPath||n.docsPath;this.message=[t||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://viem.sh${s}.html${n.docsSlug?`#${n.docsSlug}`:""}`]:[],...r?[`Details: ${r}`]:[],`Version: ${this.version}`].join(`
`),n.cause&&(this.cause=n.cause),this.details=r,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=t}walk(t){return An(this,t)}}function An(e,t){return t!=null&&t(e)?e:e.cause?An(e.cause,t):e}class dt extends v{constructor({blockNumber:t,chain:n,contract:r}){super(`Chain "${n.name}" does not support contract "${r.name}".`,{metaMessages:["This could be due to any of the following:",...t&&r.blockCreated&&r.blockCreated>t?[`- The contract "${r.name}" was not deployed until block ${r.blockCreated} (current block ${t}).`]:[`- The chain does not have the contract "${r.name}" configured.`]]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDoesNotSupportContract"})}}let qr=class extends v{constructor({chain:t,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${t.id} – ${t.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${t.id} – ${t.name}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainMismatchError"})}};class Ur extends v{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainNotFoundError"})}}class Sn extends v{constructor(){super("No chain was provided to the Client."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ClientChainNotConfiguredError"})}}function Hr({chain:e,currentChainId:t}){if(!e)throw new Ur;if(t!==e.id)throw new qr({chain:e,currentChainId:t})}function se({blockNumber:e,chain:t,contract:n}){var s;const r=(s=t==null?void 0:t.contracts)==null?void 0:s[n];if(!r)throw new dt({chain:t,contract:{name:n}});if(e&&r.blockCreated&&r.blockCreated>e)throw new dt({blockNumber:e,chain:t,contract:{name:n,blockCreated:r.blockCreated}});return r.address}function oe(e,{formatter:t}){return t(e)}class Gr extends v{constructor({max:t,min:n,signed:r,size:s,value:o}){super(`Number "${o}" is not in safe ${s?`${s*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${t?`(${n} to ${t})`:`(above ${n})`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntegerOutOfRangeError"})}}class Wr extends v{constructor(t){super(`Hex value "${t}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidHexBooleanError"})}}class Jr extends v{constructor({givenSize:t,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${t} bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeOverflowError"})}}function M(e,{strict:t=!0}={}){return!e||typeof e!="string"?!1:t?/^0x[0-9a-fA-F]*$/.test(e):e.startsWith("0x")}function S(e){return M(e,{strict:!1})?Math.ceil((e.length-2)/2):e.length}function Q(e,{dir:t="left"}={}){let n=typeof e=="string"?e.replace("0x",""):e,r=0;for(let s=0;s<n.length-1&&n[t==="left"?s:n.length-s-1].toString()==="0";s++)r++;return n=t==="left"?n.slice(r):n.slice(0,n.length-r),typeof e=="string"?(n.length===1&&t==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}class kn extends v{constructor({offset:t,position:n,size:r}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${t}" is out-of-bounds (size: ${r}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SliceOffsetOutOfBoundsError"})}}class $n extends v{constructor({size:t,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${t}) exceeds padding size (${n}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SizeExceedsPaddingSizeError"})}}function ie(e,{dir:t,size:n=32}={}){return typeof e=="string"?z(e,{dir:t,size:n}):Vr(e,{dir:t,size:n})}function z(e,{dir:t,size:n=32}={}){if(n===null)return e;const r=e.replace("0x","");if(r.length>n*2)throw new $n({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[t==="right"?"padEnd":"padStart"](n*2,"0")}`}function Vr(e,{dir:t,size:n=32}={}){if(n===null)return e;if(e.length>n)throw new $n({size:e.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let s=0;s<n;s++){const o=t==="right";r[o?s:n-s-1]=e[o?s:e.length-s-1]}return r}const Kr=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function D(e,t={}){return typeof e=="number"||typeof e=="bigint"?x(e,t):typeof e=="string"?Ot(e,t):typeof e=="boolean"?In(e,t):be(e,t)}function In(e,t={}){const n=`0x${Number(e)}`;return typeof t.size=="number"?(U(n,{size:t.size}),ie(n,{size:t.size})):n}function be(e,t={}){let n="";for(let s=0;s<e.length;s++)n+=Kr[e[s]];const r=`0x${n}`;return typeof t.size=="number"?(U(r,{size:t.size}),ie(r,{dir:"right",size:t.size})):r}function x(e,t={}){const{signed:n,size:r}=t,s=BigInt(e);let o;r?n?o=(1n<<BigInt(r)*8n-1n)-1n:o=2n**(BigInt(r)*8n)-1n:typeof e=="number"&&(o=BigInt(Number.MAX_SAFE_INTEGER));const i=typeof o=="bigint"&&n?-o-1n:0;if(o&&s>o||s<i){const c=typeof e=="bigint"?"n":"";throw new Gr({max:o?`${o}${c}`:void 0,min:`${i}${c}`,signed:n,size:r,value:`${e}${c}`})}const a=`0x${(n&&s<0?(1n<<BigInt(r*8))+BigInt(s):s).toString(16)}`;return r?ie(a,{size:r}):a}const Zr=new TextEncoder;function Ot(e,t={}){const n=Zr.encode(e);return be(n,t)}const Xr=new TextEncoder;function J(e,t={}){return typeof e=="number"||typeof e=="bigint"?Qr(e,t):typeof e=="boolean"?Yr(e,t):M(e)?Ft(e,t):B(e,t)}function Yr(e,t={}){const n=new Uint8Array(1);return n[0]=Number(e),typeof t.size=="number"?(U(n,{size:t.size}),ie(n,{size:t.size})):n}function Ft(e,t={}){let n=e;t.size&&(U(n,{size:t.size}),n=ie(n,{dir:"right",size:t.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const s=new Uint8Array(r.length/2);for(let o=0;o<s.length;o++){const i=o*2,a=r.slice(i,i+2),c=Number.parseInt(a,16);if(Number.isNaN(c)||c<0)throw new v(`Invalid byte sequence ("${a}" in "${r}").`);s[o]=c}return s}function Qr(e,t){const n=x(e,t);return Ft(n)}function B(e,t={}){const n=Xr.encode(e);return typeof t.size=="number"?(U(n,{size:t.size}),ie(n,{dir:"right",size:t.size})):n}function U(e,{size:t}){if(S(e)>t)throw new Jr({givenSize:S(e),maxSize:t})}function _t(e,t={}){const{signed:n}=t;t.size&&U(e,{size:t.size});const r=BigInt(e);if(!n)return r;const s=(e.length-2)/2,o=(1n<<BigInt(s)*8n-1n)-1n;return r<=o?r:r-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function es(e,t={}){let n=e;if(t.size&&(U(n,{size:t.size}),n=Q(n)),Q(n)==="0x00")return!1;if(Q(n)==="0x01")return!0;throw new Wr(n)}function k(e,t={}){return Number(_t(e,t))}function Tn(e,t={}){let n=Ft(e);return t.size&&(U(n,{size:t.size}),n=Q(n,{dir:"right"})),new TextDecoder().decode(n)}const On={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559"};function Fn(e){const t={...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,chainId:e.chainId?k(e.chainId):void 0,gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,maxFeePerGas:e.maxFeePerGas?BigInt(e.maxFeePerGas):void 0,maxPriorityFeePerGas:e.maxPriorityFeePerGas?BigInt(e.maxPriorityFeePerGas):void 0,nonce:e.nonce?k(e.nonce):void 0,to:e.to?e.to:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,type:e.type?On[e.type]:void 0,value:e.value?BigInt(e.value):void 0,v:e.v?BigInt(e.v):void 0};return t.type==="legacy"&&(delete t.accessList,delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t.type==="eip2930"&&(delete t.maxFeePerGas,delete t.maxPriorityFeePerGas),t}function ts(e){var n;const t=(n=e.transactions)==null?void 0:n.map(r=>typeof r=="string"?r:Fn(r));return{...e,baseFeePerGas:e.baseFeePerGas?BigInt(e.baseFeePerGas):null,difficulty:e.difficulty?BigInt(e.difficulty):void 0,gasLimit:e.gasLimit?BigInt(e.gasLimit):void 0,gasUsed:e.gasUsed?BigInt(e.gasUsed):void 0,hash:e.hash?e.hash:null,logsBloom:e.logsBloom?e.logsBloom:null,nonce:e.nonce?e.nonce:null,number:e.number?BigInt(e.number):null,size:e.size?BigInt(e.size):void 0,timestamp:e.timestamp?BigInt(e.timestamp):void 0,transactions:t,totalDifficulty:e.totalDifficulty?BigInt(e.totalDifficulty):null}}function V(e,{args:t,eventName:n}={}){return{...e,blockHash:e.blockHash?e.blockHash:null,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,logIndex:e.logIndex?Number(e.logIndex):null,transactionHash:e.transactionHash?e.transactionHash:null,transactionIndex:e.transactionIndex?Number(e.transactionIndex):null,...n?{args:t,eventName:n}:{}}}const ns={"0x0":"reverted","0x1":"success"};function rs(e){return{...e,blockNumber:e.blockNumber?BigInt(e.blockNumber):null,contractAddress:e.contractAddress?e.contractAddress:null,cumulativeGasUsed:e.cumulativeGasUsed?BigInt(e.cumulativeGasUsed):null,effectiveGasPrice:e.effectiveGasPrice?BigInt(e.effectiveGasPrice):null,gasUsed:e.gasUsed?BigInt(e.gasUsed):null,logs:e.logs?e.logs.map(t=>V(t)):null,to:e.to?e.to:null,transactionIndex:e.transactionIndex?k(e.transactionIndex):null,status:e.status?ns[e.status]:null,type:e.type?On[e.type]:null}}function jt(e){return{...e,gas:typeof e.gas<"u"?x(e.gas):void 0,gasPrice:typeof e.gasPrice<"u"?x(e.gasPrice):void 0,maxFeePerGas:typeof e.maxFeePerGas<"u"?x(e.maxFeePerGas):void 0,maxPriorityFeePerGas:typeof e.maxPriorityFeePerGas<"u"?x(e.maxPriorityFeePerGas):void 0,nonce:typeof e.nonce<"u"?x(e.nonce):void 0,value:typeof e.value<"u"?x(e.value):void 0}}const ss=Mr,os=Rr;var is=Object.defineProperty,as=(e,t,n)=>t in e?is(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,F=(e,t,n)=>(as(e,typeof t!="symbol"?t+"":t,n),n),_n=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},cs=(e,t,n)=>(_n(e,t,"read from private field"),n?n.call(e):t.get(e)),us=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},ls=(e,t,n,r)=>(_n(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ds=class extends Br{constructor({chains:e=[os,ss],options:t}){super(),F(this,"chains"),F(this,"options"),F(this,"storage"),this.chains=e,this.options=t}getBlockExplorerUrls(e){const{default:t,...n}=e.blockExplorers??{};if(t)return[t.url,...Object.values(n).map(r=>r.url)]}isChainUnsupported(e){return!this.chains.some(t=>t.id===e)}setStorage(e){this.storage=e}},fs=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured for connector "${t}".`),F(this,"name","ChainNotConfiguredForConnectorError")}},N=class extends Error{constructor(){super(...arguments),F(this,"name","ConnectorNotFoundError"),F(this,"message","Connector not found")}};function sn(e){return typeof e=="string"?Number.parseInt(e,e.trim().substring(0,2)==="0x"?16:10):typeof e=="bigint"?Number(e):e}function K(e,{includeName:t=!1}={}){if(e.type!=="function"&&e.type!=="event"&&e.type!=="error")throw new Ss(e.type);return`${e.name}(${Le(e.inputs,{includeName:t})})`}function Le(e,{includeName:t=!1}={}){return e?e.map(n=>hs(n,{includeName:t})).join(t?", ":","):""}function hs(e,{includeName:t}){return e.type.startsWith("tuple")?`(${Le(e.components,{includeName:t})})${e.type.slice(5)}`:e.type+(t&&e.name?` ${e.name}`:"")}class ps extends v{constructor({docsPath:t}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorNotFoundError"})}}class on extends v{constructor({docsPath:t}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiConstructorParamsNotFoundError"})}}class Nt extends v{constructor({data:t,params:n,size:r}){super([`Data size of ${r} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${Le(n,{includeName:!0})})`,`Data:   ${t} (${r} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t,this.params=n,this.size=r}}class ze extends v{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiDecodingZeroDataError"})}}class bs extends v{constructor({expectedLength:t,givenLength:n,type:r}){super([`ABI encoding array length mismatch for type ${r}.`,`Expected length: ${t}`,`Given length: ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingArrayLengthMismatchError"})}}class ms extends v{constructor({expectedSize:t,value:n}){super(`Size of bytes "${n}" (bytes${S(n)}) does not match expected size (bytes${t}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingBytesSizeMismatchError"})}}class gs extends v{constructor({expectedLength:t,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${t}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEncodingLengthMismatchError"})}}class ys extends v{constructor(t,{docsPath:n}){super([`Encoded error signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiErrorSignatureNotFoundError"})}}class ws extends v{constructor({docsPath:t}){super("Cannot extract event signature from empty topics.",{docsPath:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureEmptyTopicsError"})}}class vs extends v{constructor(t,{docsPath:n}){super([`Encoded event signature "${t}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${t}.`].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventSignatureNotFoundError"})}}class an extends v{constructor(t,{docsPath:n}={}){super([`Event ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiEventNotFoundError"})}}class _e extends v{constructor(t,{docsPath:n}={}){super([`Function ${t?`"${t}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionNotFoundError"})}}class Ps extends v{constructor(t,{docsPath:n}){super([`Function "${t}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiFunctionOutputsNotFoundError"})}}class xs extends v{constructor({expectedSize:t,givenSize:n}){super(`Expected bytes${t}, got bytes${n}.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BytesSizeMismatchError"})}}class me extends v{constructor({abiItem:t,data:n,params:r,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${Le(r,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t,this.data=n,this.params=r,this.size=s}}class qe extends v{constructor({abiItem:t,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${K(t,{includeName:!0})}".`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=t}}class Es extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiEncodingType"})}}class Cs extends v{constructor(t,{docsPath:n}){super([`Type "${t}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiDecodingType"})}}class As extends v{constructor(t){super([`Value "${t}" is not a valid array.`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidArrayError"})}}class Ss extends v{constructor(t){super([`"${t}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidDefinitionTypeError"})}}class ks extends v{constructor(t){super(`Filter type "${t}" is not supported.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FilterTypeNotSupportedError"})}}const $s=/((function|event)\s)?(.*)(\((.*)\))/;function jn(e){const t=e.match($s),n=(t==null?void 0:t[2])||void 0,r=t==null?void 0:t[3],s=(t==null?void 0:t[5])||void 0;return{type:n,name:r,params:s}}function Is(e){return jn(e).name}function Ts(e){const t=jn(e).params,n=t==null?void 0:t.split(",").map(r=>r.trim().split(" "));return n==null?void 0:n.map(r=>({type:r[0],name:r[1]==="indexed"?r[2]:r[1],...r[1]==="indexed"?{indexed:!0}:{}}))}function ft(e){if(!Number.isSafeInteger(e)||e<0)throw new Error(`Wrong positive integer: ${e}`)}function Os(e){if(typeof e!="boolean")throw new Error(`Expected boolean, not ${e}`)}function Nn(e,...t){if(!(e instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(t.length>0&&!t.includes(e.length))throw new TypeError(`Expected Uint8Array of length ${t}, not of length=${e.length}`)}function Fs(e){if(typeof e!="function"||typeof e.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");ft(e.outputLen),ft(e.blockLen)}function _s(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function js(e,t){Nn(e);const n=t.outputLen;if(e.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const X={number:ft,bool:Os,bytes:Nn,hash:Fs,exists:_s,output:js},ke=BigInt(2**32-1),ht=BigInt(32);function Bn(e,t=!1){return t?{h:Number(e&ke),l:Number(e>>ht&ke)}:{h:Number(e>>ht&ke)|0,l:Number(e&ke)|0}}function Ns(e,t=!1){let n=new Uint32Array(e.length),r=new Uint32Array(e.length);for(let s=0;s<e.length;s++){const{h:o,l:i}=Bn(e[s],t);[n[s],r[s]]=[o,i]}return[n,r]}const Bs=(e,t)=>BigInt(e>>>0)<<ht|BigInt(t>>>0),Ms=(e,t,n)=>e>>>n,Rs=(e,t,n)=>e<<32-n|t>>>n,Ds=(e,t,n)=>e>>>n|t<<32-n,Ls=(e,t,n)=>e<<32-n|t>>>n,zs=(e,t,n)=>e<<64-n|t>>>n-32,qs=(e,t,n)=>e>>>n-32|t<<64-n,Us=(e,t)=>t,Hs=(e,t)=>e,Gs=(e,t,n)=>e<<n|t>>>32-n,Ws=(e,t,n)=>t<<n|e>>>32-n,Js=(e,t,n)=>t<<n-32|e>>>64-n,Vs=(e,t,n)=>e<<n-32|t>>>64-n;function Ks(e,t,n,r){const s=(t>>>0)+(r>>>0);return{h:e+n+(s/2**32|0)|0,l:s|0}}const Zs=(e,t,n)=>(e>>>0)+(t>>>0)+(n>>>0),Xs=(e,t,n,r)=>t+n+r+(e/2**32|0)|0,Ys=(e,t,n,r)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0),Qs=(e,t,n,r,s)=>t+n+r+s+(e/2**32|0)|0,eo=(e,t,n,r,s)=>(e>>>0)+(t>>>0)+(n>>>0)+(r>>>0)+(s>>>0),to=(e,t,n,r,s,o)=>t+n+r+s+o+(e/2**32|0)|0,ge={fromBig:Bn,split:Ns,toBig:Bs,shrSH:Ms,shrSL:Rs,rotrSH:Ds,rotrSL:Ls,rotrBH:zs,rotrBL:qs,rotr32H:Us,rotr32L:Hs,rotlSH:Gs,rotlSL:Ws,rotlBH:Js,rotlBL:Vs,add:Ks,add3L:Zs,add3H:Xs,add4L:Ys,add4H:Qs,add5H:to,add5L:eo};const no=e=>new Uint32Array(e.buffer,e.byteOffset,Math.floor(e.byteLength/4)),ro=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!ro)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function so(e){if(typeof e!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof e}`);return new TextEncoder().encode(e)}function Bt(e){if(typeof e=="string"&&(e=so(e)),!(e instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof e})`);return e}class oo{clone(){return this._cloneInto()}}function io(e){const t=r=>e().update(Bt(r)).digest(),n=e();return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=()=>e(),t}function ao(e){const t=(r,s)=>e(s).update(Bt(r)).digest(),n=e({});return t.outputLen=n.outputLen,t.blockLen=n.blockLen,t.create=r=>e(r),t}const[Mn,Rn,Dn]=[[],[],[]],co=BigInt(0),le=BigInt(1),uo=BigInt(2),lo=BigInt(7),fo=BigInt(256),ho=BigInt(113);for(let e=0,t=le,n=1,r=0;e<24;e++){[n,r]=[r,(2*n+3*r)%5],Mn.push(2*(5*r+n)),Rn.push((e+1)*(e+2)/2%64);let s=co;for(let o=0;o<7;o++)t=(t<<le^(t>>lo)*ho)%fo,t&uo&&(s^=le<<(le<<BigInt(o))-le);Dn.push(s)}const[po,bo]=ge.split(Dn,!0),cn=(e,t,n)=>n>32?ge.rotlBH(e,t,n):ge.rotlSH(e,t,n),un=(e,t,n)=>n>32?ge.rotlBL(e,t,n):ge.rotlSL(e,t,n);function mo(e,t=24){const n=new Uint32Array(10);for(let r=24-t;r<24;r++){for(let i=0;i<10;i++)n[i]=e[i]^e[i+10]^e[i+20]^e[i+30]^e[i+40];for(let i=0;i<10;i+=2){const a=(i+8)%10,c=(i+2)%10,u=n[c],l=n[c+1],d=cn(u,l,1)^n[a],h=un(u,l,1)^n[a+1];for(let p=0;p<50;p+=10)e[i+p]^=d,e[i+p+1]^=h}let s=e[2],o=e[3];for(let i=0;i<24;i++){const a=Rn[i],c=cn(s,o,a),u=un(s,o,a),l=Mn[i];s=e[l],o=e[l+1],e[l]=c,e[l+1]=u}for(let i=0;i<50;i+=10){for(let a=0;a<10;a++)n[a]=e[i+a];for(let a=0;a<10;a++)e[i+a]^=~n[(a+2)%10]&n[(a+4)%10]}e[0]^=po[r],e[1]^=bo[r]}n.fill(0)}class Ue extends oo{constructor(t,n,r,s=!1,o=24){if(super(),this.blockLen=t,this.suffix=n,this.outputLen=r,this.enableXOF=s,this.rounds=o,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,X.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=no(this.state)}keccak(){mo(this.state32,this.rounds),this.posOut=0,this.pos=0}update(t){X.exists(this);const{blockLen:n,state:r}=this;t=Bt(t);const s=t.length;for(let o=0;o<s;){const i=Math.min(n-this.pos,s-o);for(let a=0;a<i;a++)r[this.pos++]^=t[o++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:t,suffix:n,pos:r,blockLen:s}=this;t[r]^=n,n&128&&r===s-1&&this.keccak(),t[s-1]^=128,this.keccak()}writeInto(t){X.exists(this,!1),X.bytes(t),this.finish();const n=this.state,{blockLen:r}=this;for(let s=0,o=t.length;s<o;){this.posOut>=r&&this.keccak();const i=Math.min(r-this.posOut,o-s);t.set(n.subarray(this.posOut,this.posOut+i),s),this.posOut+=i,s+=i}return t}xofInto(t){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(t)}xof(t){return X.number(t),this.xofInto(new Uint8Array(t))}digestInto(t){if(X.output(t,this),this.finished)throw new Error("digest() was already called");return this.writeInto(t),this.destroy(),t}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(t){const{blockLen:n,suffix:r,outputLen:s,rounds:o,enableXOF:i}=this;return t||(t=new Ue(n,r,s,i,o)),t.state32.set(this.state32),t.pos=this.pos,t.posOut=this.posOut,t.finished=this.finished,t.rounds=o,t.suffix=r,t.outputLen=s,t.enableXOF=i,t.destroyed=this.destroyed,t}}const H=(e,t,n)=>io(()=>new Ue(t,e,n));H(6,144,224/8);H(6,136,256/8);H(6,104,384/8);H(6,72,512/8);H(1,144,224/8);const go=H(1,136,256/8);H(1,104,384/8);H(1,72,512/8);const Ln=(e,t,n)=>ao((r={})=>new Ue(t,e,r.dkLen===void 0?n:r.dkLen,!0));Ln(31,168,128/8);Ln(31,136,256/8);function T(e,t){const n=t||"hex",r=go(M(e,{strict:!1})?J(e):e);return n==="bytes"?r:D(r)}const zn=e=>T(J(e));function qn(e){const t=Is(e),n=Ts(e)||[];return zn(`${t}(${n.map(({type:r})=>r).join(",")})`)}function Un(e){return zn(`${e.name}(${e.inputs.map(({type:t})=>t).join(",")})`)}const Hn=e=>typeof e=="string"?qn(e):Un(e);class ye extends v{constructor({address:t}){super(`Address "${t}" is invalid.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAddressError"})}}const yo=/^0x[a-fA-F0-9]{40}$/;function re(e){return yo.test(e)}function R(e){return typeof e[0]=="string"?Mt(e):wo(e)}function wo(e){let t=0;for(const s of e)t+=s.length;const n=new Uint8Array(t);let r=0;for(const s of e)n.set(s,r),r+=s.length;return n}function Mt(e){return`0x${e.reduce((t,n)=>t+n.replace("0x",""),"")}`}function A(e,t,n,{strict:r}={}){return M(e,{strict:!1})?Po(e,t,n,{strict:r}):vo(e,t,n,{strict:r})}function Gn(e,t){if(typeof t=="number"&&t>0&&t>S(e)-1)throw new kn({offset:t,position:"start",size:S(e)})}function Wn(e,t,n){if(typeof t=="number"&&typeof n=="number"&&S(e)!==n-t)throw new kn({offset:n,position:"end",size:S(e)})}function vo(e,t,n,{strict:r}={}){Gn(e,t);const s=e.slice(t,n);return r&&Wn(s,t,n),s}function Po(e,t,n,{strict:r}={}){Gn(e,t);const s=`0x${e.replace("0x","").slice((t??0)*2,(n??e.length)*2)}`;return r&&Wn(s,t,n),s}function xe(e,t){if(e.length!==t.length)throw new gs({expectedLength:e.length,givenLength:t.length});const n=xo({params:e,values:t}),r=Dt(n);return r.length===0?"0x":r}function xo({params:e,values:t}){const n=[];for(let r=0;r<e.length;r++)n.push(Rt({param:e[r],value:t[r]}));return n}function Rt({param:e,value:t}){const n=He(e.type);if(n){const[r,s]=n;return Co(t,{length:r,param:{...e,type:s}})}if(e.type==="tuple")return Io(t,{param:e});if(e.type==="address")return Eo(t);if(e.type==="bool")return So(t);if(e.type.startsWith("uint")||e.type.startsWith("int")){const r=e.type.startsWith("int");return ko(t,{signed:r})}if(e.type.startsWith("bytes"))return Ao(t,{param:e});if(e.type==="string")return $o(t);throw new Es(e.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function Dt(e){let t=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?t+=32:t+=S(a)}const n=[],r=[];let s=0;for(let o=0;o<e.length;o++){const{dynamic:i,encoded:a}=e[o];i?(n.push(x(t+s,{size:32})),r.push(a),s+=S(a)):n.push(a)}return R([...n,...r])}function Eo(e){if(!re(e))throw new ye({address:e});return{dynamic:!1,encoded:z(e.toLowerCase())}}function Co(e,{length:t,param:n}){const r=t===null;if(!Array.isArray(e))throw new As(e);if(!r&&e.length!==t)throw new bs({expectedLength:t,givenLength:e.length,type:`${n.type}[${t}]`});let s=!1;const o=[];for(let i=0;i<e.length;i++){const a=Rt({param:n,value:e[i]});a.dynamic&&(s=!0),o.push(a)}if(r||s){const i=Dt(o);if(r){const a=x(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?R([a,i]):a}}if(s)return{dynamic:!0,encoded:i}}return{dynamic:!1,encoded:R(o.map(({encoded:i})=>i))}}function Ao(e,{param:t}){const[n,r]=t.type.split("bytes");if(!r){const s=Math.ceil(S(e)/32),o=[];for(let i=0;i<s;i++)o.push(z(A(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:R([z(x(S(e),{size:32})),...o])}}if(S(e)!==parseInt(r))throw new ms({expectedSize:parseInt(r),value:e});return{dynamic:!1,encoded:z(e,{dir:"right"})}}function So(e){return{dynamic:!1,encoded:z(In(e))}}function ko(e,{signed:t}){return{dynamic:!1,encoded:x(e,{size:32,signed:t})}}function $o(e){const t=Ot(e),n=Math.ceil(S(t)/32),r=[];for(let s=0;s<n;s++)r.push(z(A(t,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:R([z(x(S(t),{size:32})),...r])}}function Io(e,{param:t}){let n=!1;const r=[];for(let s=0;s<t.components.length;s++){const o=t.components[s],i=Array.isArray(e)?s:o.name,a=Rt({param:o,value:e[i]});r.push(a),a.dynamic&&(n=!0)}return{dynamic:n,encoded:n?Dt(r):R(r.map(({encoded:s})=>s))}}function He(e){const t=e.match(/^(.*)\[(\d+)?\]$/);return t?[t[2]?Number(t[2]):null,t[1]]:void 0}function Ee({abi:e,args:t=[],name:n}){const r=e.filter(s=>"name"in s&&s.name===n);if(r.length!==0){if(r.length===1)return r[0];for(const s of r){if(!("inputs"in s))continue;if(!t||t.length===0){if(!s.inputs||s.inputs.length===0)return s;continue}if(!s.inputs||s.inputs.length===0||s.inputs.length!==t.length)continue;if(t.every((i,a)=>{const c="inputs"in s&&s.inputs[a];return c?pt(i,c):!1}))return s}return r[0]}}function pt(e,t){const n=typeof e,r=t.type;switch(r){case"address":return re(e);case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return r==="tuple"&&"components"in t?Object.values(t.components).every((s,o)=>pt(Object.values(e)[o],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(r)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(r)?n==="string"||e instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(r)?Array.isArray(e)&&e.every(s=>pt(s,{...t,type:r.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function Lt({abi:e,eventName:t,args:n}){var a;let r=e[0];if(t&&(r=Ee({abi:e,args:n,name:t}),!r))throw new an(t,{docsPath:"/docs/contract/encodeEventTopics"});if(r.type!=="event")throw new an(void 0,{docsPath:"/docs/contract/encodeEventTopics"});const s=K(r),o=Hn(s);let i=[];if(n&&"inputs"in r){const c=(a=r.inputs)==null?void 0:a.filter(l=>"indexed"in l&&l.indexed),u=Array.isArray(n)?n:Object.values(n).length>0?(c==null?void 0:c.map(l=>n[l.name]))??[]:[];u.length>0&&(i=(c==null?void 0:c.map((l,d)=>Array.isArray(u[d])?u[d].map((h,p)=>ln({param:l,value:u[d][p]})):u[d]?ln({param:l,value:u[d]}):null))??[])}return[o,...i]}function ln({param:e,value:t}){if(e.type==="string"||e.type==="bytes")return T(J(t));if(e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/))throw new ks(e.type);return xe([e],[t])}function Ge(e,{method:t}){var r,s;const n={};return e.transport.type==="fallback"&&((s=(r=e.transport).onResponse)==null||s.call(r,({method:o,response:i,status:a,transport:c})=>{a==="success"&&t===o&&(n[i]=c.request)})),o=>n[o]||e.request}async function Jn(e,{address:t,abi:n,args:r,eventName:s,fromBlock:o,strict:i,toBlock:a}){const c=Ge(e,{method:"eth_newFilter"}),u=s?Lt({abi:n,args:r,eventName:s}):void 0,l=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof o=="bigint"?x(o):o,toBlock:typeof a=="bigint"?x(a):a,topics:u}]});return{abi:n,args:r,eventName:s,id:l,request:c(l),strict:i,type:"event"}}function j(e){return typeof e=="string"?{address:e,type:"json-rpc"}:e}const Vn=e=>A(typeof e=="string"?qn(e):Un(e),0,4);function G({abi:e,args:t,functionName:n}){let r=e[0];if(n&&(r=Ee({abi:e,args:t,name:n}),!r))throw new _e(n,{docsPath:"/docs/contract/encodeFunctionData"});if(r.type!=="function")throw new _e(void 0,{docsPath:"/docs/contract/encodeFunctionData"});const s=K(r),o=Vn(s),i="inputs"in r&&r.inputs?xe(r.inputs,t??[]):void 0;return Mt([o,i??"0x"])}const Kn={1:"An `assert` condition failed.",17:"Arithmic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},To={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},Oo={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};function zt(e,t){const n=t?`${t}${e.toLowerCase()}`:e.substring(2).toLowerCase(),r=T(B(n),"bytes"),s=(t?n.substring(`${t}0x`.length):n).split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&s[o]&&(s[o]=s[o].toUpperCase()),(r[o>>1]&15)>=8&&s[o+1]&&(s[o+1]=s[o+1].toUpperCase());return`0x${s.join("")}`}function Oe(e,t){if(!re(e))throw new ye({address:e});return zt(e,t)}function We(e,t){if(t==="0x"&&e.length>0)throw new ze;if(S(t)&&S(t)<32)throw new Nt({data:t,params:e,size:S(t)});return Fo({data:t,params:e})}function Fo({data:e,params:t}){const n=[];let r=0;for(let s=0;s<t.length;s++){if(r>=S(e))throw new Nt({data:e,params:t,size:S(e)});const o=t[s],{consumed:i,value:a}=ee({data:e,param:o,position:r});n.push(a),r+=i}return n}function ee({data:e,param:t,position:n}){const r=He(t.type);if(r){const[o,i]=r;return jo(e,{length:o,param:{...t,type:i},position:n})}if(t.type==="tuple")return Do(e,{param:t,position:n});if(t.type==="string")return Ro(e,{position:n});if(t.type.startsWith("bytes"))return Bo(e,{param:t,position:n});const s=A(e,n,n+32,{strict:!0});if(t.type.startsWith("uint")||t.type.startsWith("int"))return Mo(s,{param:t});if(t.type==="address")return _o(s);if(t.type==="bool")return No(s);throw new Cs(t.type,{docsPath:"/docs/contract/decodeAbiParameters"})}function _o(e){return{consumed:32,value:zt(A(e,-20))}}function jo(e,{param:t,length:n,position:r}){if(!n){const i=k(A(e,r,r+32,{strict:!0})),a=k(A(e,i,i+32,{strict:!0}));let c=0;const u=[];for(let l=0;l<a;++l){const d=ee({data:A(e,i+32),param:t,position:c});c+=d.consumed,u.push(d.value)}return{value:u,consumed:32}}if(je(t)){const i=He(t.type),a=!(i!=null&&i[0]);let c=0;const u=[];for(let l=0;l<n;++l){const d=k(A(e,r,r+32,{strict:!0})),h=ee({data:A(e,d),param:t,position:a?c:l*32});c+=h.consumed,u.push(h.value)}return{value:u,consumed:32}}let s=0;const o=[];for(let i=0;i<n;++i){const a=ee({data:e,param:t,position:r+s});s+=a.consumed,o.push(a.value)}return{value:o,consumed:s}}function No(e){return{consumed:32,value:es(e)}}function Bo(e,{param:t,position:n}){const[r,s]=t.type.split("bytes");if(!s){const i=k(A(e,n,n+32,{strict:!0})),a=k(A(e,i,i+32,{strict:!0}));return a===0?{consumed:32,value:"0x"}:{consumed:32,value:A(e,i+32,i+32+a,{strict:!0})}}return{consumed:32,value:A(e,n,n+parseInt(s),{strict:!0})}}function Mo(e,{param:t}){const n=t.type.startsWith("int");return{consumed:32,value:parseInt(t.type.split("int")[1]||"256")>48?_t(e,{signed:n}):k(e,{signed:n})}}function Ro(e,{position:t}){const n=k(A(e,t,t+32,{strict:!0})),r=k(A(e,n,n+32,{strict:!0}));return r===0?{consumed:32,value:""}:{consumed:32,value:Tn(Q(A(e,n+32,n+32+r,{strict:!0})))}}function Do(e,{param:t,position:n}){const r=t.components.length===0||t.components.some(({name:i})=>!i),s=r?[]:{};let o=0;if(je(t)){const i=k(A(e,n,n+32,{strict:!0}));for(let a=0;a<t.components.length;++a){const c=t.components[a],u=ee({data:A(e,i),param:c,position:o});o+=u.consumed,s[r?a:c==null?void 0:c.name]=u.value}return{consumed:32,value:s}}for(let i=0;i<t.components.length;++i){const a=t.components[i],c=ee({data:e,param:a,position:n+o});o+=c.consumed,s[r?i:a==null?void 0:a.name]=c.value}return{consumed:o,value:s}}function je(e){var r;const{type:t}=e;if(t==="string"||t==="bytes"||t.endsWith("[]"))return!0;if(t==="tuple")return(r=e.components)==null?void 0:r.some(je);const n=He(e.type);return!!(n&&je({...e,type:n[1]}))}function Lo({abi:e,data:t}){const n=A(t,0,4);if(n==="0x")throw new ze;const s=[...e||[],To,Oo].find(o=>o.type==="error"&&n===Vn(K(o)));if(!s)throw new ys(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?We(s.inputs,A(t,4)):void 0,errorName:s.name}}const $=(e,t,n)=>JSON.stringify(e,(r,s)=>{const o=typeof s=="bigint"?s.toString():s;return typeof t=="function"?t(r,o):o},n);function Zn({abiItem:e,args:t,includeFunctionName:n=!0,includeName:r=!1}){if("name"in e&&"inputs"in e&&e.inputs)return`${n?e.name:""}(${e.inputs.map((s,o)=>`${r&&s.name?`${s.name}: `:""}${typeof t[o]=="object"?$(t[o]):t[o]}`).join(", ")})`}const zo={gwei:9,wei:18},qo={ether:-9,wei:9};function Xn(e,t){let n=e.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(t,"0");let[s,o]=[n.slice(0,n.length-t),n.slice(n.length-t)];return o=o.replace(/(0+)$/,""),`${r?"-":""}${s||"0"}${o?`.${o}`:""}`}function qt(e,t="wei"){return Xn(e,zo[t])}function _(e,t="wei"){return Xn(e,qo[t])}function Je(e){const t=Object.entries(e).map(([r,s])=>s===void 0||s===!1?null:[r,s]).filter(Boolean),n=t.reduce((r,[s])=>Math.max(r,s.length),0);return t.map(([r,s])=>`  ${`${r}:`.padEnd(n+1)}  ${s}`).join(`
`)}class Uo extends v{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeConflictError"})}}class Ho extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){const p=Je({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${qt(h)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${_(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${_(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Request Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionExecutionError"}),this.cause=t}}class Yn extends v{constructor({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o}){let i="Transaction";r&&o!==void 0&&(i=`Transaction at block time "${r}" at index "${o}"`),t&&o!==void 0&&(i=`Transaction at block hash "${t}" at index "${o}"`),n&&o!==void 0&&(i=`Transaction at block number "${n}" at index "${o}"`),s&&(i=`Transaction with hash "${s}"`),super(`${i} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionNotFoundError"})}}class Qn extends v{constructor({hash:t}){super(`Transaction receipt with hash "${t}" could not be found. The Transaction may not be processed on a block yet.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionReceiptNotFoundError"})}}class Go extends v{constructor({hash:t}){super(`Timed out while waiting for transaction with hash "${t}" to be confirmed.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WaitForTransactionReceiptTimeoutError"})}}class er extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){const p=n?j(n):void 0,f=Je({from:p==null?void 0:p.address,to:d,value:typeof h<"u"&&`${qt(h)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${_(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${_(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Raw Call Arguments:",f].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CallExecutionError"}),this.cause=t}}class Ut extends v{constructor(t,{abi:n,args:r,contractAddress:s,docsPath:o,functionName:i,sender:a}){const c=Ee({abi:n,args:r,name:i}),u=c?Zn({abiItem:c,args:r,includeFunctionName:!1,includeName:!1}):void 0,l=c?K(c,{includeName:!0}):void 0,d=Je({address:s&&Lr(s),function:l,args:u&&u!=="()"&&`${[...Array((i==null?void 0:i.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:a});super(t.shortMessage||`An unknown error occurred while executing the contract function "${i}".`,{cause:t,docsPath:o,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Contract Call:",d].filter(Boolean)}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionExecutionError"}),this.abi=n,this.args=r,this.cause=t,this.contractAddress=s,this.functionName=i,this.sender=a}}class Wo extends v{constructor({abi:t,data:n,functionName:r,message:s}){let o,i,a;if(n&&n!=="0x"){o=Lo({abi:t,data:n});const{abiItem:c,errorName:u,args:l}=o;if(u==="Error")a=l[0];else if(u==="Panic"){const[d]=l;a=Kn[d]}else{const d=c?K(c,{includeName:!0}):void 0,h=c&&l?Zn({abiItem:c,args:l,includeFunctionName:!1,includeName:!1}):void 0;i=[d?`Error: ${d}`:"",h&&h!=="()"?`       ${[...Array((u==null?void 0:u.length)??0).keys()].map(()=>" ").join("")}${h}`:""]}}else s&&(a=s);super(a&&a!=="execution reverted"?[`The contract function "${r}" reverted with the following reason:`,a].join(`
`):`The contract function "${r}" reverted.`,{metaMessages:i}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.reason=a,this.data=o}}class Jo extends v{constructor({functionName:t}){super(`The contract function "${t}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${t}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ContractFunctionZeroDataError"})}}class Ht extends v{constructor({data:t,message:n}){super(n||""),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RawContractError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=t}}const Vo=3;function we(e,{abi:t,address:n,args:r,docsPath:s,functionName:o,sender:i}){const{code:a,data:c,message:u,shortMessage:l}=e instanceof Ht?e:e instanceof v?e.walk(h=>"data"in h):{};let d=e;return e instanceof ze?d=new Jo({functionName:o}):a===Vo&&(c||u||l)&&(d=new Wo({abi:t,data:typeof c=="object"?c.data:c,functionName:o,message:l??u})),new Ut(d,{abi:t,args:r,contractAddress:n,docsPath:s,functionName:o,sender:i})}class Ce extends v{constructor({docsPath:t}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the WalletClient."].join(`
`),{docsPath:t,docsSlug:"account"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AccountNotFoundError"})}}class Ko extends v{constructor(t,{account:n,docsPath:r,chain:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h}){const p=Je({from:n==null?void 0:n.address,to:d,value:typeof h<"u"&&`${qt(h)} ${(s==null?void 0:s.nativeCurrency.symbol)||"ETH"}`,data:o,gas:i,gasPrice:typeof a<"u"&&`${_(a)} gwei`,maxFeePerGas:typeof c<"u"&&`${_(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${_(u)} gwei`,nonce:l});super(t.shortMessage,{cause:t,docsPath:r,metaMessages:[...t.metaMessages?[...t.metaMessages," "]:[],"Estimate Gas Arguments:",p].filter(Boolean)}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EstimateGasExecutionError"}),this.cause=t}}class te extends v{constructor({cause:t,message:n}={}){var s;const r=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ExecutionRevertedError"})}}Object.defineProperty(te,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(te,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class Ne extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooHigh"})}}Object.defineProperty(Ne,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class bt extends v{constructor({cause:t,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${_(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"FeeCapTooLow"})}}Object.defineProperty(bt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class mt extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooHighError"})}}Object.defineProperty(mt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class gt extends v{constructor({cause:t,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceTooLowError"})}}Object.defineProperty(gt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported/});class yt extends v{constructor({cause:t,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"NonceMaxValueError"})}}Object.defineProperty(yt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class wt extends v{constructor({cause:t}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:t,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InsufficientFundsError"})}}Object.defineProperty(wt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class vt extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooHighError"})}}Object.defineProperty(vt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Pt extends v{constructor({cause:t,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"IntrinsicGasTooLowError"})}}Object.defineProperty(Pt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class xt extends v{constructor({cause:t}){super("The transaction type is not supported for this chain.",{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionTypeNotSupportedError"})}}Object.defineProperty(xt,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Be extends v{constructor({cause:t,maxPriorityFeePerGas:n,maxFeePerGas:r}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${_(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${r?` = ${_(r)} gwei`:""}).`].join(`
`),{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TipAboveFeeCapError"})}}Object.defineProperty(Be,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Zo extends v{constructor({cause:t}){super(`An error occurred while executing: ${t==null?void 0:t.message}`,{cause:t}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownNodeError"})}}class pe extends v{constructor({body:t,details:n,headers:r,status:s,url:o}){super("HTTP request failed.",{details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${De(o)}`,t&&`Request body: ${$(t)}`].filter(Boolean)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=t,this.headers=r,this.status=s,this.url=o}}class Xo extends v{constructor({body:t,details:n,url:r}){super("WebSocket request failed.",{details:n,metaMessages:[`URL: ${De(r)}`,`Request body: ${$(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"WebSocketRequestError"})}}class Ve extends v{constructor({body:t,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${De(r)}`,`Request body: ${$(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code}}class Et extends v{constructor({body:t,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${De(n)}`,`Request body: ${$(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TimeoutError"})}}const Yo=-1;class O extends v{constructor(t,{code:n,docsPath:r,metaMessages:s,shortMessage:o}){super(o,{cause:t,docsPath:r,metaMessages:s||(t==null?void 0:t.metaMessages)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=t.name,this.code=t instanceof Ve?t.code:n??Yo}}class ae extends O{constructor(t,n){super(t,n),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderRpcError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Qo extends O{constructor(t){super(t,{code:-32700,shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ParseRpcError"})}}class ei extends O{constructor(t){super(t,{code:-32600,shortMessage:"JSON is not a valid request object."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidRequestRpcError"})}}class ti extends O{constructor(t){super(t,{code:-32601,shortMessage:"The method does not exist / is not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotFoundRpcError"})}}class ni extends O{constructor(t){super(t,{code:-32602,shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParamsRpcError"})}}class ri extends O{constructor(t){super(t,{code:-32603,shortMessage:"An internal error was received."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InternalRpcError"})}}class tr extends O{constructor(t){super(t,{code:-32e3,shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidInputRpcError"})}}class si extends O{constructor(t){super(t,{code:-32001,shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}class nr extends O{constructor(t){super(t,{code:-32002,shortMessage:"Requested resource not available."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceUnavailableRpcError"})}}class rr extends O{constructor(t){super(t,{code:-32003,shortMessage:"Transaction creation failed."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"TransactionRejectedRpcError"})}}class dn extends O{constructor(t){super(t,{code:-32004,shortMessage:"Method is not implemented."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"MethodNotSupportedRpcError"})}}class oi extends O{constructor(t){super(t,{code:-32005,shortMessage:"Request exceeds defined limit."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"LimitExceededRpcError"})}}class ii extends O{constructor(t){super(t,{code:-32006,shortMessage:"Version of JSON-RPC protocol is not supported."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"JsonRpcVersionUnsupportedError"})}}class fe extends ae{constructor(t){super(t,{code:4001,shortMessage:"User rejected the request."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UserRejectedRequestError"})}}class ai extends ae{constructor(t){super(t,{code:4100,shortMessage:"The requested method and/or account has not been authorized by the user."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnauthorizedProviderError"})}}class ci extends ae{constructor(t){super(t,{code:4200,shortMessage:"The Provider does not support the requested method."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnsupportedProviderMethodError"})}}class ui extends ae{constructor(t){super(t,{code:4900,shortMessage:"The Provider is disconnected from all chains."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ProviderDisconnectedError"})}}class li extends ae{constructor(t){super(t,{code:4901,shortMessage:"The Provider is not connected to the requested chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ChainDisconnectedError"})}}class sr extends ae{constructor(t){super(t,{code:4902,shortMessage:"An error occurred when attempting to switch chain."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SwitchChainError"})}}class di extends O{constructor(t){super(t,{shortMessage:"An unknown RPC error occurred."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownRpcError"})}}function Gt(e){return e instanceof rr||e instanceof tr||e instanceof Ve&&e.code===te.code}function Wt(e,t){var r;const n=e.details.toLowerCase();return Ne.nodeMessage.test(n)?new Ne({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):bt.nodeMessage.test(n)?new bt({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas}):mt.nodeMessage.test(n)?new mt({cause:e,nonce:t==null?void 0:t.nonce}):gt.nodeMessage.test(n)?new gt({cause:e,nonce:t==null?void 0:t.nonce}):yt.nodeMessage.test(n)?new yt({cause:e,nonce:t==null?void 0:t.nonce}):wt.nodeMessage.test(n)?new wt({cause:e}):vt.nodeMessage.test(n)?new vt({cause:e,gas:t==null?void 0:t.gas}):Pt.nodeMessage.test(n)?new Pt({cause:e,gas:t==null?void 0:t.gas}):xt.nodeMessage.test(n)?new xt({cause:e}):Be.nodeMessage.test(n)?new Be({cause:e,maxFeePerGas:t==null?void 0:t.maxFeePerGas,maxPriorityFeePerGas:t==null?void 0:t.maxPriorityFeePerGas}):n.match(te.nodeMessage)||"code"in e.cause&&((r=e.cause)==null?void 0:r.code)===te.code?new te({cause:e,message:e.cause.details||e.details}):new Zo({cause:e.cause.cause})}function fi(e,{docsPath:t,...n}){let r=e;return Gt(e)&&(r=Wt(e,n)),new Ko(r,{docsPath:t,...n})}function Jt(e,{formatter:t}){return t?Object.keys(t({})).reduce((r,s)=>(e!=null&&e.hasOwnProperty(s)&&(r[s]=e[s]),r),{}):{}}function Ke(e){const{account:t,gasPrice:n,maxFeePerGas:r,maxPriorityFeePerGas:s,to:o}=e,i=t?j(t):void 0;if(i&&!re(i.address))throw new ye({address:i.address});if(o&&!re(o))throw new ye({address:o});if(typeof n<"u"&&(typeof r<"u"||typeof s<"u"))throw new Uo;if(r&&r>2n**256n-1n)throw new Ne({maxFeePerGas:r});if(s&&r&&s>r)throw new Be({maxFeePerGas:r,maxPriorityFeePerGas:s})}class hi extends v{constructor({blockHash:t,blockNumber:n}){let r="Block";t&&(r=`Block at hash "${t}"`),n&&(r=`Block at number "${n}"`),super(`${r} could not be found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BlockNotFoundError"})}}async function ve(e,{blockHash:t,blockNumber:n,blockTag:r="latest",includeTransactions:s=!1}={}){var a,c;const o=n!==void 0?x(n):void 0;let i=null;if(t?i=await e.request({method:"eth_getBlockByHash",params:[t,s]}):i=await e.request({method:"eth_getBlockByNumber",params:[o||r,s]}),!i)throw new hi({blockHash:t,blockNumber:n});return oe(i,{formatter:((c=(a=e.chain)==null?void 0:a.formatters)==null?void 0:c.block)||ts})}async function or(e){const t=await e.request({method:"eth_gasPrice"});return BigInt(t)}async function ir(e,{address:t,blockTag:n="latest",blockNumber:r}){const s=await e.request({method:"eth_getTransactionCount",params:[t,r?x(r):n]});return k(s)}const nt=1500000000n;async function ar(e,t){const{account:n,gas:r,gasPrice:s,maxFeePerGas:o,maxPriorityFeePerGas:i,nonce:a}=t;if(!n)throw new Ce;const c=j(n),u=await ve(e,{blockTag:"latest"}),l={...t,from:c.address};if(typeof a>"u"&&(l.nonce=await ir(e,{address:c.address,blockTag:"pending"})),u.baseFeePerGas){if(typeof s<"u")throw new v("Chain does not support legacy `gasPrice`.");if(typeof o>"u")l.maxPriorityFeePerGas=i??nt,l.maxFeePerGas=u.baseFeePerGas*120n/100n+l.maxPriorityFeePerGas;else{if(typeof i>"u"&&o<nt)throw new v("`maxFeePerGas` cannot be less than the default `maxPriorityFeePerGas` (1.5 gwei).");l.maxFeePerGas=o,l.maxPriorityFeePerGas=i??nt}}else{if(typeof o<"u"||typeof i<"u")throw new v("Chain does not support EIP-1559 fees.");typeof s>"u"&&(l.gasPrice=await or(e)*120n/100n)}return typeof r>"u"&&(l.gas=await Vt(e,{...l,account:{address:c.address,type:"json-rpc"}})),Ke(l),l}async function Vt(e,t){var s,o;const n=t.account??e.account;if(!n)throw new Ce({docsPath:"/docs/actions/public/estimateGas"});const r=j(n);try{const{accessList:i,blockNumber:a,blockTag:c,data:u,gas:l,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:f,to:m,value:b,...y}=r.type==="local"?await ar(e,t):t,w=(a?x(a):void 0)||c;Ke(t);const C=(o=(s=e.chain)==null?void 0:s.formatters)==null?void 0:o.transactionRequest,P=oe({from:r.address,accessList:i,data:u,gas:l,gasPrice:d,maxFeePerGas:h,maxPriorityFeePerGas:p,nonce:f,to:m,value:b,...Jt(y,{formatter:C})},{formatter:C||jt}),E=await e.request({method:"eth_estimateGas",params:w?[P,w]:[P]});return BigInt(E)}catch(i){throw fi(i,{...t,account:r,chain:e.chain})}}async function pi(e,{abi:t,address:n,args:r,functionName:s,...o}){const i=G({abi:t,args:r,functionName:s});try{return await Vt(e,{data:i,to:n,...o})}catch(a){const c=o.account?j(o.account):void 0;throw we(a,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:s,sender:c==null?void 0:c.address})}}const rt="/docs/contract/decodeFunctionResult";function ce({abi:e,args:t,functionName:n,data:r}){let s=e[0];if(n&&(s=Ee({abi:e,args:t,name:n}),!s))throw new _e(n,{docsPath:rt});if(s.type!=="function")throw new _e(void 0,{docsPath:rt});if(!s.outputs)throw new Ps(s.name,{docsPath:rt});const o=We(s.outputs,r);if(o&&o.length>1)return o;if(o&&o.length===1)return o[0]}const Ct=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],cr=[{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],fn=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],hn=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]}],bi=[{inputs:[{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes32",name:"_hash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"}],mi="0x82ad56cb";function gi(e,{docsPath:t,...n}){let r=e;return Gt(e)&&(r=Wt(e,n)),new er(r,{docsPath:t,...n})}const st=new Map;function Kt({fn:e,id:t,shouldSplitBatch:n,wait:r=0}){const s=async()=>{const u=a();o();const l=u.map(({args:d})=>d);l.length!==0&&e(l).then(d=>{u.forEach(({pendingPromise:h},p)=>{var f;return(f=h.resolve)==null?void 0:f.call(h,[d[p],d])})}).catch(d=>{u.forEach(({pendingPromise:h})=>{var p;return(p=h.reject)==null?void 0:p.call(h,d)})})},o=()=>st.delete(t),i=()=>a().map(({args:u})=>u),a=()=>st.get(t)||[],c=u=>st.set(t,[...a(),u]);return{flush:o,async schedule(u){const l={},d=new Promise((f,m)=>{l.resolve=f,l.reject=m});return(n==null?void 0:n([...i(),u]))&&s(),a().length>0?(c({args:u,pendingPromise:l}),d):(c({args:u,pendingPromise:l}),setTimeout(s,r),d)}}}async function Ze(e,t){var y,g,w;const{account:n,batch:r=!!((y=e.batch)!=null&&y.multicall),blockNumber:s,blockTag:o="latest",accessList:i,data:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:p,value:f,...m}=t,b=n?j(n):void 0;try{Ke(t);const P=(s?x(s):void 0)||o,E=(w=(g=e.chain)==null?void 0:g.formatters)==null?void 0:w.transactionRequest,I=oe({from:b==null?void 0:b.address,accessList:i,data:a,gas:c,gasPrice:u,maxFeePerGas:l,maxPriorityFeePerGas:d,nonce:h,to:p,value:f,...Jt(m,{formatter:E})},{formatter:E||jt});if(r&&yi({request:I}))try{return await wi(e,{...I,blockNumber:s,blockTag:o})}catch(L){if(!(L instanceof Sn)&&!(L instanceof dt))throw L}const Z=await e.request({method:"eth_call",params:P?[I,P]:[I]});return Z==="0x"?{data:void 0}:{data:Z}}catch(C){const P=vi(C),{offchainLookup:E,offchainLookupSignature:I}=await En(()=>import("./ccip-e213958d.js"),["assets/ccip-e213958d.js","assets/index-e4d6fab6.js","assets/index-beb0ac43.css"]);if((P==null?void 0:P.slice(0,10))===I&&p)return{data:await E(e,{data:P,to:p})};throw gi(C,{...t,account:b,chain:e.chain})}}function yi({request:e}){const{data:t,to:n,...r}=e;return!(!t||t.startsWith(mi)||!n||Object.values(r).filter(s=>typeof s<"u").length>0)}async function wi(e,t){var m;const{batchSize:n=1024,wait:r=0}=typeof((m=e.batch)==null?void 0:m.multicall)=="object"?e.batch.multicall:{},{blockNumber:s,blockTag:o="latest",data:i,multicallAddress:a,to:c}=t;let u=a;if(!u){if(!e.chain)throw new Sn;u=se({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=(s?x(s):void 0)||o,{schedule:h}=Kt({id:`${e.uid}.${d}`,wait:r,shouldSplitBatch(b){return b.reduce((g,{data:w})=>g+(w.length-2),0)>n*2},fn:async b=>{const y=b.map(C=>({allowFailure:!0,callData:C.data,target:C.to})),g=G({abi:Ct,args:[y],functionName:"aggregate3"}),w=await e.request({method:"eth_call",params:[{data:g,to:u},d]});return ce({abi:Ct,args:[y],functionName:"aggregate3",data:w||"0x"})}}),[{returnData:p,success:f}]=await h({data:i,to:c});if(!f)throw new Ht({data:p});return p==="0x"?{data:void 0}:{data:p}}function vi(e){if(!(e instanceof v))return;const t=e.walk();return typeof t.data=="object"?t.data.data:t.data}async function q(e,{abi:t,address:n,args:r,functionName:s,...o}){const i=G({abi:t,args:r,functionName:s});try{const{data:a}=await Ze(e,{data:i,to:n,...o});return ce({abi:t,args:r,functionName:s,data:a||"0x"})}catch(a){throw we(a,{abi:t,address:n,args:r,docsPath:"/docs/contract/readContract",functionName:s})}}async function Pi(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:o,...i}){const a=i.account?j(i.account):void 0,c=G({abi:t,args:r,functionName:o});try{const{data:u}=await Ze(e,{batch:!1,data:`${c}${s?s.replace("0x",""):""}`,to:n,...i});return{result:ce({abi:t,args:r,functionName:o,data:u||"0x"}),request:{abi:t,address:n,args:r,functionName:o,...i}}}catch(u){throw we(u,{abi:t,address:n,args:r,docsPath:"/docs/contract/simulateContract",functionName:o,sender:a==null?void 0:a.address})}}const ot=new Map,pn=new Map;let xi=0;function ue(e,t,n){const r=++xi,s=()=>ot.get(e)||[],o=()=>{const l=s();ot.set(e,l.filter(d=>d.id!==r))},i=()=>{const l=pn.get(e);s().length===1&&l&&l(),o()},a=s();if(ot.set(e,[...a,{id:r,fns:t}]),a&&a.length>0)return i;const c={};for(const l in t)c[l]=(...d)=>{const h=s();h.length!==0&&h.forEach(p=>{var f,m;return(m=(f=p.fns)[l])==null?void 0:m.call(f,...d)})};const u=n(c);return typeof u=="function"&&pn.set(e,u),i}async function Me(e){return new Promise(t=>setTimeout(t,e))}function Ae(e,{emitOnBegin:t,initialWaitTime:n,interval:r}){let s=!0;const o=()=>s=!1;return(async()=>{let a;t&&(a=await e({unpoll:o}));const c=await(n==null?void 0:n(a))??r;await Me(c);const u=async()=>{s&&(await e({unpoll:o}),await Me(r),u())};u()})(),o}const Ei=new Map,Ci=new Map;function Ai(e){const t=(s,o)=>({clear:()=>o.delete(s),get:()=>o.get(s),set:i=>o.set(s,i)}),n=t(e,Ei),r=t(e,Ci);return{clear:()=>{n.clear(),r.clear()},promise:n,response:r}}async function Si(e,{cacheKey:t,maxAge:n=1/0}){const r=Ai(t),s=r.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let o=r.promise.get();o||(o=e(),r.promise.set(o));try{const i=await o;return r.response.set({created:new Date,data:i}),i}finally{r.promise.clear()}}const ki=e=>`blockNumber.${e}`;async function Se(e,{maxAge:t=e.pollingInterval}={}){const n=await Si(()=>e.request({method:"eth_blockNumber"}),{cacheKey:ki(e.uid),maxAge:t});return BigInt(n)}const bn="/docs/contract/decodeEventLog";function Zt({abi:e,data:t,strict:n,topics:r}){const s=n??!0,[o,...i]=r;if(!o)throw new ws({docsPath:bn});const a=e.find(f=>f.type==="event"&&o===Hn(K(f)));if(!(a&&"name"in a)||a.type!=="event")throw new vs(o,{docsPath:bn});const{name:c,inputs:u}=a,l=u==null?void 0:u.some(f=>!("name"in f&&f.name));let d=l?[]:{};const h=u.filter(f=>"indexed"in f&&f.indexed);if(i.length>0)for(let f=0;f<h.length;f++){const m=h[f],b=i[f];if(!b)throw new qe({abiItem:a,param:m});d[m.name||f]=$i({param:m,value:b})}const p=u.filter(f=>!("indexed"in f&&f.indexed));if(p.length>0){if(t&&t!=="0x")try{const f=We(p,t);if(f)if(l)d=[...d,...f];else for(let m=0;m<p.length;m++)d[p[m].name]=f[m]}catch(f){if(s)throw f instanceof Nt?new me({abiItem:a,data:f.data,params:f.params,size:f.size}):f}else if(s)throw new me({abiItem:a,data:"0x",params:p,size:0})}return{eventName:c,args:Object.values(d).length>0?d:void 0}}function $i({param:e,value:t}){return e.type==="string"||e.type==="bytes"||e.type==="tuple"||e.type.match(/^(.*)\[(\d+)?\]$/)?t:(We([e],t)||[])[0]}async function Xe(e,{filter:t}){const n="strict"in t&&t.strict;return(await t.request({method:"eth_getFilterChanges",params:[t.id]})).map(s=>{var o;if(typeof s=="string")return s;try{const{eventName:i,args:a}="abi"in t&&t.abi?Zt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return V(s,{args:a,eventName:i})}catch(i){let a,c;if(i instanceof me||i instanceof qe){if("strict"in t&&t.strict)return;a=i.abiItem.name,c=(o=i.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return V(s,{args:c?[]:{},eventName:a})}}).filter(Boolean)}async function Xt(e,{address:t,blockHash:n,fromBlock:r,toBlock:s,event:o,args:i,strict:a}={}){const c=a??!1;let u=[];o&&(u=Lt({abi:[o],eventName:o.name,args:i}));let l;return n?l=await e.request({method:"eth_getLogs",params:[{address:t,topics:u,blockHash:n}]}):l=await e.request({method:"eth_getLogs",params:[{address:t,topics:u,fromBlock:typeof r=="bigint"?x(r):r,toBlock:typeof s=="bigint"?x(s):s}]}),l.map(d=>{var h;try{const{eventName:p,args:f}=o?Zt({abi:[o],data:d.data,topics:d.topics,strict:c}):{eventName:void 0,args:void 0};return V(d,{args:f,eventName:p})}catch(p){let f,m;if(p instanceof me||p instanceof qe){if(c)return;f=p.abiItem.name,m=(h=p.abiItem.inputs)==null?void 0:h.some(b=>!("name"in b&&b.name))}return V(d,{args:m?[]:{},eventName:f})}}).filter(Boolean)}async function Ye(e,{filter:t}){return t.request({method:"eth_uninstallFilter",params:[t.id]})}function Ii(e,{abi:t,address:n,args:r,batch:s=!0,eventName:o,onError:i,onLogs:a,pollingInterval:c=e.pollingInterval,strict:u}){const l=$(["watchContractEvent",n,r,s,e.uid,o,c]),d=u??!1;return ue(l,{onLogs:a,onError:i},h=>{let p,f,m=!1;const b=Ae(async()=>{var y;if(!m){try{f=await Jn(e,{abi:t,address:n,args:r,eventName:o,strict:d})}catch{}m=!0;return}try{let g;if(f)g=await Xe(e,{filter:f});else{const w=await Se(e);p&&p!==w?g=await Xt(e,{address:n,args:r,fromBlock:p+1n,toBlock:w,event:Ee({abi:t,name:o})}):g=[],p=w}if(g.length===0)return;s?h.onLogs(g):g.forEach(w=>h.onLogs([w]))}catch(g){(y=h.onError)==null||y.call(h,g)}},{emitOnBegin:!0,interval:c});return async()=>{f&&await Ye(e,{filter:f}),b()}})}function Ti(e,{docsPath:t,...n}){let r=e;return Gt(e)&&(r=Wt(e,n)),new Ho(r,{docsPath:t,...n})}async function Re(e){const t=await e.request({method:"eth_chainId"});return k(t)}async function Yt(e,t){var m;const{account:n=e.account,chain:r=e.chain,accessList:s,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h,...p}=t;if(!n)throw new Ce({docsPath:"/docs/actions/wallet/sendTransaction"});const f=j(n);try{Ke(t);let b;if(r!==null&&(b=await Re(e),Hr({currentChainId:b,chain:r})),f.type==="local"){const w=await ar(e,{account:f,accessList:s,chain:r,data:o,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h,...p});b||(b=await Re(e));const C=await f.signTransaction({...w,chainId:b});return await e.request({method:"eth_sendRawTransaction",params:[C]})}const y=(m=r==null?void 0:r.formatters)==null?void 0:m.transactionRequest,g=oe({accessList:s,data:o,from:f.address,gas:i,gasPrice:a,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:l,to:d,value:h,...Jt(p,{formatter:y})},{formatter:y||jt});return await e.request({method:"eth_sendTransaction",params:[g]})}catch(b){throw Ti(b,{...t,account:f,chain:t.chain||void 0})}}async function Oi(e,{abi:t,address:n,args:r,dataSuffix:s,functionName:o,...i}){const a=G({abi:t,args:r,functionName:o});return await Yt(e,{data:`${a}${s?s.replace("0x",""):""}`,to:n,...i})}const At=256;let $e=At,Ie;function Fi(e=11){if(!Ie||$e+e>At*2){Ie="",$e=0;for(let t=0;t<At;t++)Ie+=(256+Math.random()*256|0).toString(16).substring(1)}return Ie.substring($e,$e+++e)}function ur({chain:e,key:t="base",name:n="Base Client",pollingInterval:r=4e3,transport:s,type:o="base"}){const{config:i,request:a,value:c}=s({chain:e,pollingInterval:r});return{chain:e,key:t,name:n,pollingInterval:r,request:a,transport:{...i,...c},type:o,uid:Fi()}}function lr(e,{delay:t=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((s,o)=>{const i=async({count:a=0}={})=>{const c=async({error:u})=>{const l=typeof t=="function"?t({count:a,error:u}):t;l&&await Me(l),i({count:a+1})};try{const u=await e();s(u)}catch(u){if(a<n&&await r({count:a,error:u}))return c({error:u});o(u)}};i()})}const dr=e=>"code"in e?e.code!==-1&&e.code!==-32004&&e.code!==-32005&&e.code!==-32042&&e.code!==-32603:e instanceof pe&&e.status?e.status!==403&&e.status!==408&&e.status!==413&&e.status!==429&&e.status!==500&&e.status!==502&&e.status!==503&&e.status!==504:!1;function _i(e,{retryDelay:t=150,retryCount:n=3}={}){return async r=>lr(async()=>{try{return await e(r)}catch(s){const o=s;throw o.code===-32700?new Qo(o):o.code===-32600?new ei(o):o.code===-32601?new ti(o):o.code===-32602?new ni(o):o.code===-32603?new ri(o):o.code===-32e3?new tr(o):o.code===-32001?new si(o):o.code===-32002?new nr(o):o.code===-32003?new rr(o):o.code===-32004?new dn(o):o.code===-32005?new oi(o):o.code===-32006?new ii(o):o.code===-32042?new dn(o):o.code===4001?new fe(o):o.code===4100?new ai(o):o.code===4200?new ci(o):o.code===4900?new ui(o):o.code===4901?new li(o):o.code===4902?new sr(o):s instanceof v?s:new di(o)}},{delay:({count:s,error:o})=>{var i;if(o&&o instanceof pe){const a=(i=o==null?void 0:o.headers)==null?void 0:i.get("Retry-After");if(a!=null&&a.match(/\d/))return parseInt(a)*1e3}return~~(1<<s)*t},retryCount:n,shouldRetry:({error:s})=>!dr(s)})}function Qe({key:e,name:t,request:n,retryCount:r=3,retryDelay:s=150,timeout:o,type:i},a){return{config:{key:e,name:t,request:n,retryCount:r,retryDelay:s,timeout:o,type:i},request:_i(n,{retryCount:r,retryDelay:s}),value:a}}function ji(e,t={}){const{key:n="custom",name:r="Custom Provider",retryDelay:s}=t;return({retryCount:o})=>Qe({key:n,name:r,request:e.request.bind(e),retryCount:t.retryCount??o,retryDelay:s,type:"custom"})}function mn(e,t={}){const{key:n="fallback",name:r="Fallback",rank:s=!1,retryCount:o,retryDelay:i}=t;return({chain:a,pollingInterval:c=4e3,timeout:u})=>{let l=e,d=()=>{};const h=Qe({key:n,name:r,async request({method:p,params:f}){const m=async(b=0)=>{const y=l[b]({chain:a,retryCount:0,timeout:u});try{const g=await y.request({method:p,params:f});return d({method:p,params:f,response:g,transport:y,status:"success"}),g}catch(g){if(d({error:g,method:p,params:f,transport:y,status:"error"}),dr(g)||b===l.length-1)throw g;return m(b+1)}};return m()},retryCount:o,retryDelay:i,type:"fallback"},{onResponse:p=>d=p,transports:l.map(p=>p({chain:a,retryCount:0}))});if(s){const p=typeof s=="object"?s:{};Ni({chain:a,interval:p.interval??c,onTransports:f=>l=f,sampleCount:p.sampleCount,timeout:p.timeout,transports:l,weights:p.weights})}return h}}function Ni({chain:e,interval:t=4e3,onTransports:n,sampleCount:r=10,timeout:s=1e3,transports:o,weights:i={}}){const{stability:a=.7,latency:c=.3}=i,u=[],l=async()=>{const d=await Promise.all(o.map(async f=>{const m=f({chain:e,retryCount:0,timeout:s}),b=Date.now();let y,g;try{await m.request({method:"net_listening"}),g=1}catch{g=0}finally{y=Date.now()}return{latency:y-b,success:g}}));u.push(d),u.length>r&&u.shift();const h=Math.max(...u.map(f=>Math.max(...f.map(({latency:m})=>m)))),p=o.map((f,m)=>{const b=u.map(P=>P[m].latency),g=1-b.reduce((P,E)=>P+E,0)/b.length/h,w=u.map(P=>P[m].success),C=w.reduce((P,E)=>P+E,0)/w.length;return C===0?[0,m]:[c*g+a*C,m]}).sort((f,m)=>m[0]-f[0]);n(p.map(([,f])=>o[f])),await Me(t),l()};l()}class fr extends v{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro"})}}function hr(e,{errorInstance:t,timeout:n,signal:r}){return new Promise((s,o)=>{(async()=>{let i;try{const a=new AbortController;n>0&&(i=setTimeout(()=>{r?a.abort():o(t)},n)),s(await e({signal:a==null?void 0:a.signal}))}catch(a){a.name==="AbortError"&&o(t),o(a)}finally{clearTimeout(i)}})()})}let St=0;async function Bi(e,{body:t,fetchOptions:n={},timeout:r=1e4}){var a;const{headers:s,method:o,signal:i}=n;try{const c=await hr(async({signal:l})=>await fetch(e,{...n,body:Array.isArray(t)?$(t.map(h=>({jsonrpc:"2.0",id:St++,...h}))):$({jsonrpc:"2.0",id:St++,...t}),headers:{...s,"Content-Type":"application/json"},method:o||"POST",signal:i||(r>0?l:void 0)}),{errorInstance:new Et({body:t,url:e}),timeout:r,signal:!0});let u;if((a=c.headers.get("Content-Type"))!=null&&a.startsWith("application/json")?u=await c.json():u=await c.text(),!c.ok)throw new pe({body:t,details:$(u.error)||c.statusText,headers:c.headers,status:c.status,url:e});return u}catch(c){throw c instanceof pe||c instanceof Et?c:new pe({body:t,details:c.message,url:e})}}const it=new Map;async function at(e){const t=new URL(e),n=t.toString();let r=it.get(n);if(r)return r;const{schedule:s}=Kt({id:n,fn:async()=>{var p;let a=await En(()=>import("./browser-8374b4ce.js"),["assets/browser-8374b4ce.js","assets/index-e4d6fab6.js","assets/index-beb0ac43.css"]);(p=a.default)!=null&&p.constructor?a=a.default:a=a.WebSocket;const c=new a(t),u=new Map,l=new Map,d=({data:f})=>{const m=JSON.parse(f),b=m.method==="eth_subscription",y=b?m.params.subscription:m.id,g=b?l:u,w=g.get(y);w&&w({data:f}),b||g.delete(y)},h=()=>{it.delete(n),c.removeEventListener("close",h),c.removeEventListener("message",d)};return c.addEventListener("close",h),c.addEventListener("message",d),c.readyState===a.CONNECTING&&await new Promise((f,m)=>{c&&(c.onopen=f,c.onerror=m)}),r=Object.assign(c,{requests:u,subscriptions:l}),it.set(n,r),[r]}}),[o,[i]]=await s();return i}function Mi(e,{body:t,onResponse:n}){if(e.readyState===e.CLOSED||e.readyState===e.CLOSING)throw new Xo({body:t,url:e.url,details:"Socket is closed."});const r=St++,s=({data:o})=>{var a;const i=JSON.parse(o);typeof i.id=="number"&&r!==i.id||(n==null||n(i),t.method==="eth_subscribe"&&typeof i.result=="string"&&e.subscriptions.set(i.result,s),t.method==="eth_unsubscribe"&&e.subscriptions.delete((a=t.params)==null?void 0:a[0]))};return e.requests.set(r,s),e.send(JSON.stringify({jsonrpc:"2.0",...t,id:r})),e}async function Ri(e,{body:t,timeout:n=1e4}){return hr(()=>new Promise(r=>ne.webSocket(e,{body:t,onResponse:r})),{errorInstance:new Et({body:t,url:e.url}),timeout:n})}const ne={http:Bi,webSocket:Mi,webSocketAsync:Ri};function Di(e,t={}){const{batch:n,fetchOptions:r,key:s="http",name:o="HTTP JSON-RPC",retryDelay:i}=t;return({chain:a,retryCount:c,timeout:u})=>{const{batchSize:l=1e3,wait:d=0}=typeof n=="object"?n:{},h=t.retryCount??c,p=u??t.timeout??1e4,f=e||(a==null?void 0:a.rpcUrls.default.http[0]);if(!f)throw new fr;return Qe({key:s,name:o,async request({method:m,params:b}){const y={method:m,params:b},{schedule:g}=Kt({id:`${e}`,wait:d,shouldSplitBatch(E){return E.length>l},fn:E=>ne.http(f,{body:E,fetchOptions:r,timeout:p})}),w=async E=>n?g(E):[await ne.http(f,{body:E,fetchOptions:r,timeout:p})],[{error:C,result:P}]=await w(y);if(C)throw new Ve({body:y,error:C,url:f});return P},retryCount:h,retryDelay:i,timeout:p,type:"http"},{url:e})}}const Li=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,zi=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function pr({domain:e,message:t,primaryType:n,types:r}){const s=r,o=(i,a)=>{for(const c of i){const{name:u,type:l}=c,d=l,h=a[u],p=d.match(zi);if(p&&(typeof h=="number"||typeof h=="bigint")){const[b,y,g]=p;x(h,{signed:y==="int",size:parseInt(g)/8})}if(d==="address"&&typeof h=="string"&&!re(h))throw new ye({address:h});const f=d.match(Li);if(f){const[b,y]=f;if(y&&S(h)!==parseInt(y))throw new xs({expectedSize:parseInt(y),givenSize:S(h)})}const m=s[d];m&&o(m,h)}};if(s.EIP712Domain&&e&&o(s.EIP712Domain,e),n!=="EIP712Domain"){const i=s[n];o(i,t)}}const ct="/docs/contract/encodeDeployData";function br({abi:e,args:t,bytecode:n}){if(!t||t.length===0)return n;const r=e.find(o=>"type"in o&&o.type==="constructor");if(!r)throw new ps({docsPath:ct});if(!("inputs"in r))throw new on({docsPath:ct});if(!r.inputs||r.inputs.length===0)throw new on({docsPath:ct});const s=xe(r.inputs,t);return Mt([n,s])}function qi({domain:e,message:t,primaryType:n,types:r}){const s=typeof e>"u"?{}:e,o={EIP712Domain:[(s==null?void 0:s.name)&&{name:"name",type:"string"},(s==null?void 0:s.version)&&{name:"version",type:"string"},(s==null?void 0:s.chainId)&&{name:"chainId",type:"uint256"},(s==null?void 0:s.verifyingContract)&&{name:"verifyingContract",type:"address"},(s==null?void 0:s.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...r};pr({domain:s,message:t,primaryType:n,types:o});const i=["0x1901"];return s&&i.push(Ui({domain:s,types:o})),n!=="EIP712Domain"&&i.push(mr({data:t,primaryType:n,types:o})),T(R(i))}function Ui({domain:e,types:t}){return mr({data:e,primaryType:"EIP712Domain",types:t})}function mr({data:e,primaryType:t,types:n}){const r=gr({data:e,primaryType:t,types:n});return T(r)}function gr({data:e,primaryType:t,types:n}){const r=[{type:"bytes32"}],s=[Hi({primaryType:t,types:n})];for(const o of n[t]){const[i,a]=wr({types:n,name:o.name,type:o.type,value:e[o.name]});r.push(i),s.push(a)}return xe(r,s)}function Hi({primaryType:e,types:t}){const n=D(Gi({primaryType:e,types:t}));return T(n)}function Gi({primaryType:e,types:t}){let n="";const r=yr({primaryType:e,types:t});r.delete(e);const s=[e,...Array.from(r).sort()];for(const o of s)n+=`${o}(${t[o].map(({name:i,type:a})=>`${a} ${i}`).join(",")})`;return n}function yr({primaryType:e,types:t},n=new Set){const r=e.match(/^\w*/u),s=r==null?void 0:r[0];if(n.has(s)||t[s]===void 0)return n;n.add(s);for(const o of t[s])yr({primaryType:o.type,types:t},n);return n}function wr({types:e,name:t,type:n,value:r}){if(e[n]!==void 0)return[{type:"bytes32"},T(gr({data:r,primaryType:n,types:e}))];if(n==="bytes")return r=`0x${(r.length%2?"0":"")+r.slice(2)}`,[{type:"bytes32"},T(r)];if(n==="string")return[{type:"bytes32"},T(D(r))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),o=r.map(i=>wr({name:t,type:s,types:e,value:i}));return[{type:"bytes32"},T(xe(o.map(([i])=>i),o.map(([,i])=>i)))]}return[{type:n},r]}function Wi(e,t){const n=(()=>typeof e=="string"?B(e):e.raw instanceof Uint8Array?e.raw:J(e.raw))(),r=B(`Ethereum Signed Message:
${n.length}`);return T(R([r,n]),t)}function vr(e){if(e.length!==66||e.indexOf("[")!==0||e.indexOf("]")!==65)return null;const t=`0x${e.slice(1,65)}`;return M(t)?t:null}function Pr(e){let t=new Uint8Array(32).fill(0);if(!e)return be(t);const n=e.split(".");for(let r=n.length-1;r>=0;r-=1){const s=vr(n[r]),o=s?J(s):T(B(n[r]),"bytes");t=T(R([t,o]),"bytes")}return be(t)}function Ji(e){return`[${e.slice(2)}]`}function Vi(e){const t=new Uint8Array(32).fill(0);return e?vr(e)||T(B(e)):be(t)}function et(e){const t=e.replace(/^\.|\.$/gm,"");if(t.length===0)return new Uint8Array(1);const n=new Uint8Array(B(t).byteLength+2);let r=0;const s=t.split(".");for(let o=0;o<s.length;o++){let i=B(s[o]);i.byteLength>255&&(i=B(Ji(Vi(s[o])))),n[r]=i.length,n.set(i,r+1),r+=i.length+1}return n.byteLength!==r+1?n.slice(0,r+1):n}async function Ki(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){var i;let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=se({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}try{const a=await q(e,{address:o,abi:cr,functionName:"resolve",args:[D(et(r)),G({abi:hn,functionName:"addr",args:[Pr(r)]})],blockNumber:t,blockTag:n});if(a[0]==="0x")return null;const c=ce({abi:hn,functionName:"addr",data:a[0]});return Q(c)==="0x00"?null:c}catch(a){if(a instanceof Ut){const c=(i=a.cause)==null?void 0:i.reason;if(c!=null&&c.includes("Wildcard on non-extended resolvers is not supported"))return null}throw a}}class Zi extends v{constructor({data:t}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(t)}`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidMetadataError"})}}class de extends v{constructor({reason:t}){super(`ENS NFT avatar URI is invalid. ${t}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarInvalidNftUriError"})}}class Qt extends v{constructor({uri:t}){super(`Unable to resolve ENS avatar URI "${t}". The URI may be malformed, invalid, or does not respond with a valid image.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUriResolutionError"})}}class Xi extends v{constructor({namespace:t}){super(`ENS NFT avatar namespace "${t}" is not supported. Must be "erc721" or "erc1155".`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"EnsAvatarUnsupportedNamespaceError"})}}const Yi=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Qi=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,ea=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,ta=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function na(e){try{const t=await fetch(e,{method:"HEAD"});if(t.status===200){const n=t.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(t){return typeof t=="object"&&typeof t.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const r=new Image;r.onload=()=>{n(!0)},r.onerror=()=>{n(!1)},r.src=e})}}function gn(e,t){return e?e.endsWith("/")?e.slice(0,-1):e:t}function xr({uri:e,gatewayUrls:t}){const n=ea.test(e);if(n)return{uri:e,isOnChain:!0,isEncoded:n};const r=gn(t==null?void 0:t.ipfs,"https://ipfs.io"),s=gn(t==null?void 0:t.arweave,"https://arweave.net"),o=e.match(Yi),{protocol:i,subpath:a,target:c,subtarget:u=""}=(o==null?void 0:o.groups)||{},l=i==="ipns:/"||a==="ipns/",d=i==="ipfs:/"||a==="ipfs/"||Qi.test(e);if(e.startsWith("http")&&!l&&!d){let p=e;return t!=null&&t.arweave&&(p=e.replace(/https:\/\/arweave.net/g,t==null?void 0:t.arweave)),{uri:p,isOnChain:!1,isEncoded:!1}}if((l||d)&&c)return{uri:`${r}/${l?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(i==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let h=e.replace(ta,"");if(h.startsWith("<svg")&&(h=`data:image/svg+xml;base64,${btoa(h)}`),h.startsWith("data:")||h.startsWith("{"))return{uri:h,isOnChain:!0,isEncoded:!1};throw new Qt({uri:e})}function Er(e){if(typeof e!="object"||!("image"in e)&&!("image_url"in e)&&!("image_data"in e))throw new Zi({data:e});return e.image||e.image_url||e.image_data}async function ra({gatewayUrls:e,uri:t}){try{const n=await fetch(t).then(s=>s.json());return await en({gatewayUrls:e,uri:Er(n)})}catch{throw new Qt({uri:t})}}async function en({gatewayUrls:e,uri:t}){const{uri:n,isOnChain:r}=xr({uri:t,gatewayUrls:e});if(r||await na(n))return n;throw new Qt({uri:t})}function sa(e){e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[t,n,r]=e.split("/"),[s,o]=t.split(":"),[i,a]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new de({reason:"Only EIP-155 supported"});if(!o)throw new de({reason:"Chain ID not found"});if(!a)throw new de({reason:"Contract address not found"});if(!r)throw new de({reason:"Token ID not found"});if(!i)throw new de({reason:"ERC namespace not found"});return{chainID:parseInt(o),namespace:i.toLowerCase(),contractAddress:a,tokenID:r}}async function oa(e,{nft:t}){if(t.namespace==="erc721")return q(e,{address:t.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(t.tokenID)]});if(t.namespace==="erc1155")return q(e,{address:t.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(t.tokenID)]});throw new Xi({namespace:t.namespace})}async function ia(e,{gatewayUrls:t,record:n}){return/eip155:/i.test(n)?aa(e,{gatewayUrls:t,record:n}):en({uri:n,gatewayUrls:t})}async function aa(e,{gatewayUrls:t,record:n}){const r=sa(n),s=await oa(e,{nft:r}),{uri:o,isOnChain:i,isEncoded:a}=xr({uri:s,gatewayUrls:t});if(i&&(o.includes("data:application/json;base64,")||o.startsWith("{"))){const u=a?atob(o.replace("data:application/json;base64,","")):o,l=JSON.parse(u);return en({uri:Er(l),gatewayUrls:t})}let c=r.tokenID;return r.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),ra({gatewayUrls:t,uri:o.replace(/(?:0x)?{id}/,c)})}async function Cr(e,{blockNumber:t,blockTag:n,name:r,key:s,universalResolverAddress:o}){let i=o;if(!i){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");i=se({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const a=await q(e,{address:i,abi:cr,functionName:"resolve",args:[D(et(r)),G({abi:fn,functionName:"text",args:[Pr(r),s]})],blockNumber:t,blockTag:n});if(a[0]==="0x")return null;const c=ce({abi:fn,functionName:"text",data:a[0]});return c===""?null:c}async function ca(e,{blockNumber:t,blockTag:n,gatewayUrls:r,name:s,universalResolverAddress:o}){const i=await Cr(e,{blockNumber:t,blockTag:n,key:"avatar",name:s,universalResolverAddress:o});if(!i)return null;try{return await ia(e,{record:i,gatewayUrls:r})}catch{return null}}async function ua(e,{address:t,blockNumber:n,blockTag:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=se({blockNumber:n,chain:e.chain,contract:"ensUniversalResolver"})}const i=`${t.toLowerCase().substring(2)}.addr.reverse`;try{return(await q(e,{address:o,abi:[{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],functionName:"reverse",args:[D(et(i))],blockNumber:n,blockTag:r}))[0]}catch(a){if(a instanceof Ut&&a.cause.reason===Kn[50])return null;throw a}}async function la(e,{blockNumber:t,blockTag:n,name:r,universalResolverAddress:s}){let o=s;if(!o){if(!e.chain)throw new Error("client chain not configured. universalResolverAddress is required.");o=se({blockNumber:t,chain:e.chain,contract:"ensUniversalResolver"})}const[i]=await q(e,{address:o,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[D(et(r))],blockNumber:t,blockTag:n});return i}async function da(e){const t=Ge(e,{method:"eth_newBlockFilter"}),n=await e.request({method:"eth_newBlockFilter"});return{id:n,request:t(n),type:"block"}}async function Ar(e,{address:t,args:n,event:r,fromBlock:s,strict:o,toBlock:i}={}){const a=Ge(e,{method:"eth_newFilter"});let c=[];r&&(c=Lt({abi:[r],eventName:r.name,args:n}));const u=await e.request({method:"eth_newFilter",params:[{address:t,fromBlock:typeof s=="bigint"?x(s):s,toBlock:typeof i=="bigint"?x(i):i,...c.length?{topics:c}:{}}]});return{abi:r?[r]:void 0,args:n,eventName:r?r.name:void 0,id:u,request:a(u),strict:o,type:"event"}}async function Sr(e){const t=Ge(e,{method:"eth_newPendingTransactionFilter"}),n=await e.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:t(n),type:"transaction"}}async function fa(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n?x(n):void 0,o=await e.request({method:"eth_getBalance",params:[t,s||r]});return BigInt(o)}async function ha(e,{blockHash:t,blockNumber:n,blockTag:r="latest"}={}){const s=n!==void 0?x(n):void 0;let o;return t?o=await e.request({method:"eth_getBlockTransactionCountByHash",params:[t]}):o=await e.request({method:"eth_getBlockTransactionCountByNumber",params:[s||r]}),k(o)}async function pa(e,{address:t,blockNumber:n,blockTag:r="latest"}){const s=n!==void 0?x(n):void 0,o=await e.request({method:"eth_getCode",params:[t,s||r]});if(o!=="0x")return o}function ba(e){var t;return{baseFeePerGas:e.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:e.gasUsedRatio,oldestBlock:BigInt(e.oldestBlock),reward:(t=e.reward)==null?void 0:t.map(n=>n.map(r=>BigInt(r)))}}async function ma(e,{blockCount:t,blockNumber:n,blockTag:r="latest",rewardPercentiles:s}){const o=n?x(n):void 0,i=await e.request({method:"eth_feeHistory",params:[x(t),o||r,s]});return ba(i)}async function ga(e,{filter:t}){const n=t.strict??!1;return(await t.request({method:"eth_getFilterLogs",params:[t.id]})).map(s=>{var o;try{const{eventName:i,args:a}="abi"in t&&t.abi?Zt({abi:t.abi,data:s.data,topics:s.topics,strict:n}):{eventName:void 0,args:void 0};return V(s,{args:a,eventName:i})}catch(i){let a,c;if(i instanceof me||i instanceof qe){if("strict"in t&&t.strict)return;a=i.abiItem.name,c=(o=i.abiItem.inputs)==null?void 0:o.some(u=>!("name"in u&&u.name))}return V(s,{args:c?[]:{},eventName:a})}}).filter(Boolean)}async function ya(e,{address:t,blockNumber:n,blockTag:r="latest",slot:s}){const o=n!==void 0?x(n):void 0;return await e.request({method:"eth_getStorageAt",params:[t,s,o||r]})}async function tn(e,{blockHash:t,blockNumber:n,blockTag:r="latest",hash:s,index:o}){var c,u;const i=n!==void 0?x(n):void 0;let a=null;if(s?a=await e.request({method:"eth_getTransactionByHash",params:[s]}):t?a=await e.request({method:"eth_getTransactionByBlockHashAndIndex",params:[t,x(o)]}):(i||r)&&(a=await e.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[i||r,x(o)]})),!a)throw new Yn({blockHash:t,blockNumber:n,blockTag:r,hash:s,index:o});return oe(a,{formatter:((u=(c=e.chain)==null?void 0:c.formatters)==null?void 0:u.transaction)||Fn})}async function wa(e,{hash:t,transactionReceipt:n}){const[r,s]=await Promise.all([Se(e),t?tn(e,{hash:t}):void 0]),o=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return o?r-o+1n:0n}async function kt(e,{hash:t}){var r,s;const n=await e.request({method:"eth_getTransactionReceipt",params:[t]});if(!n)throw new Qn({hash:t});return oe(n,{formatter:((s=(r=e.chain)==null?void 0:r.formatters)==null?void 0:s.transactionReceipt)||rs})}async function va(e,t){var m;const{allowFailure:n=!0,batchSize:r,blockNumber:s,blockTag:o,contracts:i,multicallAddress:a}=t,c=r??(typeof((m=e.batch)==null?void 0:m.multicall)=="object"&&e.batch.multicall.batchSize||1024),u=i;let l=a;if(!l){if(!e.chain)throw new Error("client chain not configured. multicallAddress is required.");l=se({blockNumber:s,chain:e.chain,contract:"multicall3"})}const d=[[]];let h=0,p=0;for(let b=0;b<u.length;b++){const{abi:y,address:g,args:w,functionName:C}=u[b];try{const P=G({abi:y,args:w,functionName:C});p+=P.length,c>0&&p>c&&(h++,p=(P.length-2)/2,d[h]=[]),d[h]=[...d[h],{allowFailure:!0,callData:P,target:g}]}catch(P){const E=we(P,{abi:y,address:g,args:w,docsPath:"/docs/contract/multicall",functionName:C});if(!n)throw E;d[h]=[...d[h],{allowFailure:!0,callData:"0x",target:g}]}}return(await Promise.all(d.map(b=>q(e,{abi:Ct,address:l,args:[b],blockNumber:s,blockTag:o,functionName:"aggregate3"})))).flat().map(({returnData:b,success:y},g)=>{const w=d.flat(),{callData:C}=w[g],{abi:P,address:E,functionName:I,args:Z}=u[g];try{if(C==="0x")throw new ze;if(!y)throw new Ht({data:b});const L=ce({abi:P,data:b,functionName:I});return n?{result:L,status:"success"}:L}catch(L){const rn=we(L,{abi:P,address:E,args:Z,docsPath:"/docs/contract/multicall",functionName:I});if(!n)throw rn;return{error:rn,result:void 0,status:"failure"}}})}const Pa="0x60806040523480156200001157600080fd5b50604051620007003803806200070083398101604081905262000034916200056f565b6000620000438484846200004f565b9050806000526001601ff35b600080846001600160a01b0316803b806020016040519081016040528181526000908060200190933c90507f6492649264926492649264926492649264926492649264926492649264926492620000a68462000451565b036200021f57600060608085806020019051810190620000c79190620005ce565b8651929550909350915060000362000192576000836001600160a01b031683604051620000f5919062000643565b6000604051808303816000865af19150503d806000811462000134576040519150601f19603f3d011682016040523d82523d6000602084013e62000139565b606091505b5050905080620001905760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b505b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90620001c4908b90869060040162000661565b602060405180830381865afa158015620001e2573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200020891906200069d565b6001600160e01b031916149450505050506200044a565b805115620002b157604051630b135d3f60e11b808252906001600160a01b03871690631626ba7e9062000259908890889060040162000661565b602060405180830381865afa15801562000277573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906200029d91906200069d565b6001600160e01b031916149150506200044a565b8251604114620003195760405162461bcd60e51b815260206004820152603a6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e677468000000000000606482015260840162000187565b620003236200046b565b506020830151604080850151855186939260009185919081106200034b576200034b620006c9565b016020015160f81c9050601b81148015906200036b57508060ff16601c14155b15620003cf5760405162461bcd60e51b815260206004820152603b6024820152600080516020620006e083398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c75650000000000606482015260840162000187565b6040805160008152602081018083528a905260ff83169181019190915260608101849052608081018390526001600160a01b038a169060019060a0016020604051602081039080840390855afa1580156200042e573d6000803e3d6000fd5b505050602060405103516001600160a01b031614955050505050505b9392505050565b60006020825110156200046357600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b03811681146200049f57600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b83811015620004d5578181015183820152602001620004bb565b50506000910152565b600082601f830112620004f057600080fd5b81516001600160401b03808211156200050d576200050d620004a2565b604051601f8301601f19908116603f01168101908282118183101715620005385762000538620004a2565b816040528381528660208588010111156200055257600080fd5b62000565846020830160208901620004b8565b9695505050505050565b6000806000606084860312156200058557600080fd5b8351620005928162000489565b6020850151604086015191945092506001600160401b03811115620005b657600080fd5b620005c486828701620004de565b9150509250925092565b600080600060608486031215620005e457600080fd5b8351620005f18162000489565b60208501519093506001600160401b03808211156200060f57600080fd5b6200061d87838801620004de565b935060408601519150808211156200063457600080fd5b50620005c486828701620004de565b6000825162000657818460208701620004b8565b9190910192915050565b828152604060208201526000825180604084015262000688816060850160208701620004b8565b601f01601f1916919091016060019392505050565b600060208284031215620006b057600080fd5b81516001600160e01b0319811681146200044a57600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";BigInt(0);BigInt(1);BigInt(2);Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function xa(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function Ea(e,t){const n=M(e)?J(e):e,r=M(t)?J(t):t;return xa(n,r)}async function kr(e,{address:t,hash:n,signature:r,...s}){const o=M(r)?r:D(r);try{const{data:i}=await Ze(e,{data:br({abi:bi,args:[t,n,o],bytecode:Pa}),...s});return Ea(i??"0x0","0x1")}catch(i){if(i instanceof er)return!1;throw i}}async function Ca(e,{address:t,message:n,signature:r,...s}){const o=Wi(n);return kr(e,{address:t,hash:o,signature:r,...s})}async function Aa(e,{address:t,signature:n,message:r,primaryType:s,types:o,domain:i,...a}){const c=qi({message:r,primaryType:s,types:o,domain:i});return kr(e,{address:t,hash:c,signature:n,...a})}function $r(e,{emitOnBegin:t=!1,emitMissed:n=!1,onBlockNumber:r,onError:s,poll:o,pollingInterval:i=e.pollingInterval}){const a=typeof o<"u"?o:e.transport.type!=="webSocket";let c;return a?(()=>{const d=$(["watchBlockNumber",e.uid,t,n,i]);return ue(d,{onBlockNumber:r,onError:s},h=>Ae(async()=>{var p;try{const f=await Se(e,{maxAge:0});if(c){if(f===c)return;if(f-c>1&&n)for(let m=c+1n;m<f;m++)h.onBlockNumber(m,c),c=m}(!c||f>c)&&(h.onBlockNumber(f,c),c=f)}catch(f){(p=h.onError)==null||p.call(h,f)}},{emitOnBegin:t,interval:i}))})():(()=>{let d=!0,h=()=>d=!1;return(async()=>{try{const{unsubscribe:p}=await e.transport.subscribe({params:["newHeads"],onData(f){var b;if(!d)return;const m=_t((b=f.result)==null?void 0:b.number);r(m,c),c=m},onError(f){s==null||s(f)}});h=p,d||h()}catch(p){s==null||s(p)}})(),h})()}async function Sa(e,{confirmations:t=1,hash:n,onReplaced:r,pollingInterval:s=e.pollingInterval,timeout:o}){const i=$(["waitForTransactionReceipt",e.uid,n]);let a,c,u,l=!1;return new Promise((d,h)=>{o&&setTimeout(()=>h(new Go({hash:n})),o);const p=ue(i,{onReplaced:r,resolve:d,reject:h},f=>{const m=$r(e,{emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(b){if(l)return;let y=b;const g=async w=>{m(),w(),p()};try{if(u){if(y-u.blockNumber+1n<t)return;g(()=>f.resolve(u));return}if(a||(l=!0,await lr(async()=>{a=await tn(e,{hash:n}),a.blockNumber&&(y=a.blockNumber)},{delay:({count:w})=>~~(1<<w)*200,retryCount:6}),l=!1),u=await kt(e,{hash:n}),t>0&&y-u.blockNumber+1n<t)return;g(()=>f.resolve(u))}catch(w){if(a&&(w instanceof Yn||w instanceof Qn)){c=a;const P=(await ve(e,{blockNumber:y,includeTransactions:!0})).transactions.find(({from:I,nonce:Z})=>I===c.from&&Z===c.nonce);if(!P||(u=await kt(e,{hash:P.hash}),y-u.blockNumber+1n<t))return;let E="replaced";P.to===c.to&&P.value===c.value?E="repriced":P.from===P.to&&P.value===0n&&(E="cancelled"),g(()=>{var I;(I=f.onReplaced)==null||I.call(f,{reason:E,replacedTransaction:c,transaction:P,transactionReceipt:u}),f.resolve(u)})}else g(()=>f.reject(w))}}});return m})})}function ka(e,{blockTag:t="latest",emitMissed:n=!1,emitOnBegin:r=!1,onBlock:s,onError:o,includeTransactions:i=!1,poll:a,pollingInterval:c=e.pollingInterval}){const u=typeof a<"u"?a:e.transport.type!=="webSocket";let l;return u?(()=>{const p=$(["watchBlocks",e.uid,n,r,i,c]);return ue(p,{onBlock:s,onError:o},f=>Ae(async()=>{var m;try{const b=await ve(e,{blockTag:t,includeTransactions:i});if(b.number&&(l!=null&&l.number)){if(b.number===l.number)return;if(b.number-l.number>1&&n)for(let y=(l==null?void 0:l.number)+1n;y<b.number;y++){const g=await ve(e,{blockNumber:y,includeTransactions:i});f.onBlock(g,l),l=g}}(!(l!=null&&l.number)||t==="pending"&&!(b!=null&&b.number)||b.number&&b.number>l.number)&&(f.onBlock(b,l),l=b)}catch(b){(m=f.onError)==null||m.call(f,b)}},{emitOnBegin:r,interval:c}))})():(()=>{let p=!0,f=()=>p=!1;return(async()=>{try{const{unsubscribe:m}=await e.transport.subscribe({params:["newHeads"],onData(b){if(!p)return;const y=b.result;s(y,l),l=y},onError(b){o==null||o(b)}});f=m,p||f()}catch(m){o==null||o(m)}})(),f})()}function $a(e,{address:t,args:n,batch:r=!0,event:s,onError:o,onLogs:i,pollingInterval:a=e.pollingInterval,strict:c}){const u=$(["watchEvent",t,n,r,e.uid,s,a]),l=c??!1;return ue(u,{onLogs:i,onError:o},d=>{let h,p,f=!1;const m=Ae(async()=>{var b;if(!f){try{p=await Ar(e,{address:t,args:n,event:s,strict:l})}catch{}f=!0;return}try{let y;if(p)y=await Xe(e,{filter:p});else{const g=await Se(e);h&&h!==g?y=await Xt(e,{address:t,args:n,fromBlock:h+1n,toBlock:g,event:s}):y=[],h=g}if(y.length===0)return;r?d.onLogs(y):y.forEach(g=>d.onLogs([g]))}catch(y){(b=d.onError)==null||b.call(d,y)}},{emitOnBegin:!0,interval:a});return async()=>{p&&await Ye(e,{filter:p}),m()}})}function Ia(e,{batch:t=!0,onError:n,onTransactions:r,poll:s,pollingInterval:o=e.pollingInterval}){return(typeof s<"u"?s:e.transport.type!=="webSocket")?(()=>{const u=$(["watchPendingTransactions",e.uid,t,o]);return ue(u,{onTransactions:r,onError:n},l=>{let d;const h=Ae(async()=>{var p;try{if(!d)try{d=await Sr(e);return}catch(m){throw h(),m}const f=await Xe(e,{filter:d});if(f.length===0)return;t?l.onTransactions(f):f.forEach(m=>l.onTransactions([m]))}catch(f){(p=l.onError)==null||p.call(l,f)}},{emitOnBegin:!0,interval:o});return async()=>{d&&await Ye(e,{filter:d}),h()}})})():(()=>{let u=!0,l=()=>u=!1;return(async()=>{try{const{unsubscribe:d}=await e.transport.subscribe({params:["newPendingTransactions"],onData(h){if(!u)return;const p=h.result;r([p])},onError(h){n==null||n(h)}});l=d,u||l()}catch(d){n==null||n(d)}})(),l})()}const Ta=e=>({call:t=>Ze(e,t),createBlockFilter:()=>da(e),createContractEventFilter:t=>Jn(e,t),createEventFilter:t=>Ar(e,t),createPendingTransactionFilter:()=>Sr(e),estimateContractGas:t=>pi(e,t),estimateGas:t=>Vt(e,t),getBalance:t=>fa(e,t),getBlock:t=>ve(e,t),getBlockNumber:t=>Se(e,t),getBlockTransactionCount:t=>ha(e,t),getBytecode:t=>pa(e,t),getChainId:()=>Re(e),getEnsAddress:t=>Ki(e,t),getEnsAvatar:t=>ca(e,t),getEnsName:t=>ua(e,t),getEnsResolver:t=>la(e,t),getEnsText:t=>Cr(e,t),getFeeHistory:t=>ma(e,t),getFilterChanges:t=>Xe(e,t),getFilterLogs:t=>ga(e,t),getGasPrice:()=>or(e),getLogs:t=>Xt(e,t),getStorageAt:t=>ya(e,t),getTransaction:t=>tn(e,t),getTransactionConfirmations:t=>wa(e,t),getTransactionCount:t=>ir(e,t),getTransactionReceipt:t=>kt(e,t),multicall:t=>va(e,t),readContract:t=>q(e,t),simulateContract:t=>Pi(e,t),verifyMessage:t=>Ca(e,t),verifyTypedData:t=>Aa(e,t),uninstallFilter:t=>Ye(e,t),waitForTransactionReceipt:t=>Sa(e,t),watchBlocks:t=>ka(e,t),watchBlockNumber:t=>$r(e,t),watchContractEvent:t=>Ii(e,t),watchEvent:t=>$a(e,t),watchPendingTransactions:t=>Ia(e,t)});function yn({batch:e,chain:t,key:n="public",name:r="Public Client",transport:s,pollingInterval:o}){const i={batch:e,...ur({chain:t,key:n,name:r,pollingInterval:o,transport:s,type:"publicClient"})};return{...i,...Ta(i)}}async function Oa(e,{chain:t}){const{id:n,name:r,nativeCurrency:s,rpcUrls:o,blockExplorers:i}=t;await e.request({method:"wallet_addEthereumChain",params:[{chainId:x(n),chainName:r,nativeCurrency:s,rpcUrls:o.default.http,blockExplorerUrls:i?Object.values(i).map(({url:a})=>a):void 0}]})}function Fa(e,{abi:t,args:n,bytecode:r,...s}){const o=br({abi:t,args:n,bytecode:r});return Yt(e,{...s,data:o})}async function _a(e){return(await e.request({method:"eth_accounts"})).map(n=>zt(n))}async function ja(e){return await e.request({method:"wallet_getPermissions"})}async function Na(e){return(await e.request({method:"eth_requestAccounts"})).map(n=>Oe(n))}async function Ba(e,t){return e.request({method:"wallet_requestPermissions",params:[t]})}async function Ma(e,{account:t=e.account,message:n}){if(!t)throw new Ce({docsPath:"/docs/actions/wallet/signMessage"});const r=j(t);if(r.type==="local")return r.signMessage({message:n});const s=(()=>typeof n=="string"?Ot(n):n.raw instanceof Uint8Array?D(n.raw):n.raw)();return e.request({method:"personal_sign",params:[s,r.address]})}async function Ra(e,{account:t=e.account,domain:n,message:r,primaryType:s,types:o}){if(!t)throw new Ce({docsPath:"/docs/actions/wallet/signTypedData"});const i=j(t),a={EIP712Domain:[(n==null?void 0:n.name)&&{name:"name",type:"string"},(n==null?void 0:n.version)&&{name:"version",type:"string"},(n==null?void 0:n.chainId)&&{name:"chainId",type:"uint256"},(n==null?void 0:n.verifyingContract)&&{name:"verifyingContract",type:"address"},(n==null?void 0:n.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean),...o};if(pr({domain:n,message:r,primaryType:s,types:a}),i.type==="local")return i.signTypedData({domain:n,primaryType:s,types:a,message:r});const c=$({domain:n??{},primaryType:s,types:a,message:r},(u,l)=>M(l)?l.toLowerCase():l);return e.request({method:"eth_signTypedData_v4",params:[i.address,c]})}async function Da(e,{id:t}){await e.request({method:"wallet_switchEthereumChain",params:[{chainId:x(t)}]})}async function La(e,t){return await e.request({method:"wallet_watchAsset",params:t})}const za=e=>({addChain:t=>Oa(e,t),deployContract:t=>Fa(e,t),getAddresses:()=>_a(e),getChainId:()=>Re(e),getPermissions:()=>ja(e),requestAddresses:()=>Na(e),requestPermissions:t=>Ba(e,t),sendTransaction:t=>Yt(e,t),signMessage:t=>Ma(e,t),signTypedData:t=>Ra(e,t),switchChain:t=>Da(e,t),watchAsset:t=>La(e,t),writeContract:t=>Oi(e,t)});function qa({account:e,chain:t,transport:n,key:r="wallet",name:s="Wallet Client",pollingInterval:o}){const i={...ur({chain:t,key:r,name:s,pollingInterval:o,transport:a=>n({...a,retryCount:0}),type:"walletClient"}),account:e?j(e):void 0};return{...i,...za(i)}}function Ua(e,t={}){const{key:n="webSocket",name:r="WebSocket JSON-RPC",retryDelay:s}=t;return({chain:o,retryCount:i,timeout:a})=>{var d;const c=t.retryCount??i,u=a??t.timeout??1e4,l=e||((d=o==null?void 0:o.rpcUrls.default.webSocket)==null?void 0:d[0]);if(!l)throw new fr;return Qe({key:n,name:r,async request({method:h,params:p}){const f={method:h,params:p},m=await at(l),{error:b,result:y}=await ne.webSocketAsync(m,{body:f,timeout:u});if(b)throw new Ve({body:f,error:b,url:l});return y},retryCount:c,retryDelay:s,timeout:u,type:"webSocket"},{getSocket(){return at(l)},async subscribe({params:h,onData:p,onError:f}){const m=await at(l),{result:b}=await new Promise((y,g)=>ne.webSocket(m,{body:{method:"eth_subscribe",params:h},onResponse(w){if(w.error){g(w.error),f==null||f(w.error);return}if(typeof w.id=="number"){y(w);return}w.method==="eth_subscription"&&p(w.params)}}));return{subscriptionId:b,async unsubscribe(){return new Promise(y=>ne.webSocket(m,{body:{method:"eth_unsubscribe",params:[b]},onResponse:y}))}}}})}}function Ha(e){var n;if(!e)return"Injected";const t=r=>{if(r.isApexWallet)return"Apex Wallet";if(r.isAvalanche)return"Core Wallet";if(r.isBackpack)return"Backpack";if(r.isBifrost)return"Bifrost Wallet";if(r.isBitKeep)return"BitKeep";if(r.isBitski)return"Bitski";if(r.isBlockWallet)return"BlockWallet";if(r.isBraveWallet)return"Brave Wallet";if(r.isCoinbaseWallet)return"Coinbase Wallet";if(r.isDawn)return"Dawn Wallet";if(r.isDefiant)return"Defiant";if(r.isEnkrypt)return"Enkrypt";if(r.isExodus)return"Exodus";if(r.isFrame)return"Frame";if(r.isFrontier)return"Frontier Wallet";if(r.isGamestop)return"GameStop Wallet";if(r.isHyperPay)return"HyperPay Wallet";if(r.isImToken)return"ImToken";if(r.isHaloWallet)return"Halo Wallet";if(r.isKuCoinWallet)return"KuCoin Wallet";if(r.isMathWallet)return"MathWallet";if(r.isNovaWallet)return"Nova Wallet";if(r.isOkxWallet||r.isOKExWallet)return"OKX Wallet";if(r.isOneInchIOSWallet||r.isOneInchAndroidWallet)return"1inch Wallet";if(r.isOpera)return"Opera";if(r.isPhantom)return"Phantom";if(r.isPortal)return"Ripio Portal";if(r.isRabby)return"Rabby Wallet";if(r.isRainbow)return"Rainbow";if(r.isStatus)return"Status";if(r.isTalisman)return"Talisman";if(r.isTally)return"Taho";if(r.isTokenPocket)return"TokenPocket";if(r.isTokenary)return"Tokenary";if(r.isTrust||r.isTrustWallet)return"Trust Wallet";if(r.isXDEFI)return"XDEFI Wallet";if(r.isZerion)return"Zerion";if(r.isMetaMask)return"MetaMask"};if((n=e.providers)!=null&&n.length){const r=new Set;let s=1;for(const i of e.providers){let a=t(i);a||(a=`Unknown Wallet #${s}`,s+=1),r.add(a)}const o=[...r];return o.length?o:o[0]??"Injected"}return t(e)??"Injected"}var Fe,Ga=class extends ds{constructor({chains:e,options:t}={}){const n={shimDisconnect:!0,getProvider(){if(typeof window>"u")return;const s=window.ethereum;return s!=null&&s.providers?s.providers[0]:s},...t};super({chains:e,options:n}),F(this,"id","injected"),F(this,"name"),F(this,"ready"),us(this,Fe,void 0),F(this,"shimDisconnectKey",`${this.id}.shimDisconnect`),F(this,"onAccountsChanged",s=>{s.length===0?this.emit("disconnect"):this.emit("change",{account:Oe(s[0])})}),F(this,"onChainChanged",s=>{const o=sn(s),i=this.isChainUnsupported(o);this.emit("change",{chain:{id:o,unsupported:i}})}),F(this,"onDisconnect",async s=>{var o;s.code===1013&&await this.getProvider()&&await this.getAccount()||(this.emit("disconnect"),this.options.shimDisconnect&&((o=this.storage)==null||o.removeItem(this.shimDisconnectKey)))});const r=n.getProvider();if(typeof n.name=="string")this.name=n.name;else if(r){const s=Ha(r);n.name?this.name=n.name(s):typeof s=="string"?this.name=s:this.name=s[0]}else this.name="Injected";this.ready=!!r}async connect({chainId:e}={}){var t;try{const n=await this.getProvider();if(!n)throw new N;n.on&&(n.on("accountsChanged",this.onAccountsChanged),n.on("chainChanged",this.onChainChanged),n.on("disconnect",this.onDisconnect)),this.emit("message",{type:"connecting"});const r=await n.request({method:"eth_requestAccounts"}),s=Oe(r[0]);let o=await this.getChainId(),i=this.isChainUnsupported(o);return e&&o!==e&&(o=(await this.switchChain(e)).id,i=this.isChainUnsupported(o)),this.options.shimDisconnect&&((t=this.storage)==null||t.setItem(this.shimDisconnectKey,!0)),{account:s,chain:{id:o,unsupported:i}}}catch(n){throw this.isUserRejectedRequestError(n)?new fe(n):n.code===-32002?new nr(n):n}}async disconnect(){var t;const e=await this.getProvider();e!=null&&e.removeListener&&(e.removeListener("accountsChanged",this.onAccountsChanged),e.removeListener("chainChanged",this.onChainChanged),e.removeListener("disconnect",this.onDisconnect),this.options.shimDisconnect&&((t=this.storage)==null||t.removeItem(this.shimDisconnectKey)))}async getAccount(){const e=await this.getProvider();if(!e)throw new N;const t=await e.request({method:"eth_accounts"});return Oe(t[0])}async getChainId(){const e=await this.getProvider();if(!e)throw new N;return e.request({method:"eth_chainId"}).then(sn)}async getProvider(){const e=this.options.getProvider();return e&&ls(this,Fe,e),cs(this,Fe)}async getWalletClient({chainId:e}={}){const[t,n]=await Promise.all([this.getProvider(),this.getAccount()]),r=this.chains.find(s=>s.id===e);if(!t)throw new Error("provider is required.");return qa({account:n,chain:r,transport:ji(t)})}async isAuthorized(){var e;try{if(this.options.shimDisconnect&&!((e=this.storage)!=null&&e.getItem(this.shimDisconnectKey)))return!1;if(!await this.getProvider())throw new N;return!!await this.getAccount()}catch{return!1}}async switchChain(e){var r,s,o;const t=await this.getProvider();if(!t)throw new N;const n=x(e);try{return await Promise.all([t.request({method:"wallet_switchEthereumChain",params:[{chainId:n}]}),new Promise(i=>this.on("change",({chain:a})=>{(a==null?void 0:a.id)===e&&i()}))]),this.chains.find(i=>i.id===e)??{id:e,name:`Chain ${n}`,network:`${n}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}}}catch(i){const a=this.chains.find(c=>c.id===e);if(!a)throw new fs({chainId:e,connectorId:this.id});if(i.code===4902||((s=(r=i==null?void 0:i.data)==null?void 0:r.originalError)==null?void 0:s.code)===4902)try{if(await t.request({method:"wallet_addEthereumChain",params:[{chainId:n,chainName:a.name,nativeCurrency:a.nativeCurrency,rpcUrls:[((o=a.rpcUrls.public)==null?void 0:o.http[0])??""],blockExplorerUrls:this.getBlockExplorerUrls(a)}]}),await this.getChainId()!==e)throw new fe(new Error("User rejected switch after adding network."));return a}catch(c){throw new fe(c)}throw this.isUserRejectedRequestError(i)?new fe(i):new sr(i)}}async watchAsset({address:e,decimals:t=18,image:n,symbol:r}){const s=await this.getProvider();if(!s)throw new N;return s.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,decimals:t,image:n,symbol:r}}})}isUserRejectedRequestError(e){return e.code===4001}};Fe=new WeakMap;var nn=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)},ut=(e,t,n)=>(nn(e,t,"read from private field"),n?n.call(e):t.get(e)),lt=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},Te=(e,t,n,r)=>(nn(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Wa=(e,t,n)=>(nn(e,t,"access private method"),n);const Ja=e=>(t,n,r)=>{const s=r.subscribe;return r.subscribe=(i,a,c)=>{let u=i;if(a){const l=(c==null?void 0:c.equalityFn)||Object.is;let d=i(r.getState());u=h=>{const p=i(h);if(!l(d,p)){const f=d;a(d=p,f)}},c!=null&&c.fireImmediately&&a(d,d)}return s(u)},e(t,n,r)},Va=Ja;function Ka(e,t){let n;try{n=e()}catch{return}return{getItem:s=>{var o;const i=c=>c===null?null:JSON.parse(c,t==null?void 0:t.reviver),a=(o=n.getItem(s))!=null?o:null;return a instanceof Promise?a.then(i):i(a)},setItem:(s,o)=>n.setItem(s,JSON.stringify(o,t==null?void 0:t.replacer)),removeItem:s=>n.removeItem(s)}}const Pe=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(r){return Pe(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return Pe(r)(n)}}}},Za=(e,t)=>(n,r,s)=>{let o={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:b=>b,version:0,merge:(b,y)=>({...y,...b}),...t},i=!1;const a=new Set,c=new Set;let u;try{u=o.getStorage()}catch{}if(!u)return e((...b)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...b)},r,s);const l=Pe(o.serialize),d=()=>{const b=o.partialize({...r()});let y;const g=l({state:b,version:o.version}).then(w=>u.setItem(o.name,w)).catch(w=>{y=w});if(y)throw y;return g},h=s.setState;s.setState=(b,y)=>{h(b,y),d()};const p=e((...b)=>{n(...b),d()},r,s);let f;const m=()=>{var b;if(!u)return;i=!1,a.forEach(g=>g(r()));const y=((b=o.onRehydrateStorage)==null?void 0:b.call(o,r()))||void 0;return Pe(u.getItem.bind(u))(o.name).then(g=>{if(g)return o.deserialize(g)}).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate)return o.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var w;return f=o.merge(g,(w=r())!=null?w:p),n(f,!0),d()}).then(()=>{y==null||y(f,void 0),i=!0,c.forEach(g=>g(f))}).catch(g=>{y==null||y(void 0,g)})};return s.persist={setOptions:b=>{o={...o,...b},b.getStorage&&(u=b.getStorage())},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>m(),hasHydrated:()=>i,onHydrate:b=>(a.add(b),()=>{a.delete(b)}),onFinishHydration:b=>(c.add(b),()=>{c.delete(b)})},m(),f||p},Xa=(e,t)=>(n,r,s)=>{let o={storage:Ka(()=>localStorage),partialize:m=>m,version:0,merge:(m,b)=>({...b,...m}),...t},i=!1;const a=new Set,c=new Set;let u=o.storage;if(!u)return e((...m)=>{console.warn(`[zustand persist middleware] Unable to update item '${o.name}', the given storage is currently unavailable.`),n(...m)},r,s);const l=()=>{const m=o.partialize({...r()});return u.setItem(o.name,{state:m,version:o.version})},d=s.setState;s.setState=(m,b)=>{d(m,b),l()};const h=e((...m)=>{n(...m),l()},r,s);let p;const f=()=>{var m,b;if(!u)return;i=!1,a.forEach(g=>{var w;return g((w=r())!=null?w:h)});const y=((b=o.onRehydrateStorage)==null?void 0:b.call(o,(m=r())!=null?m:h))||void 0;return Pe(u.getItem.bind(u))(o.name).then(g=>{if(g)if(typeof g.version=="number"&&g.version!==o.version){if(o.migrate)return o.migrate(g.state,g.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return g.state}).then(g=>{var w;return p=o.merge(g,(w=r())!=null?w:h),n(p,!0),l()}).then(()=>{y==null||y(p,void 0),p=r(),i=!0,c.forEach(g=>g(p))}).catch(g=>{y==null||y(void 0,g)})};return s.persist={setOptions:m=>{o={...o,...m},m.storage&&(u=m.storage)},clearStorage:()=>{u==null||u.removeItem(o.name)},getOptions:()=>o,rehydrate:()=>f(),hasHydrated:()=>i,onHydrate:m=>(a.add(m),()=>{a.delete(m)}),onFinishHydration:m=>(c.add(m),()=>{c.delete(m)})},o.skipHydration||f(),p||h},Ya=(e,t)=>"getStorage"in t||"serialize"in t||"deserialize"in t?(({VITE_CHAIN:"mainnet",VITE_VOTE_ADDRESS:"0xf913911b0cd39Ae9cDc37514439b41C3cbC28Da6",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Za(e,t)):Xa(e,t),Qa=Ya,wn=e=>{let t;const n=new Set,r=(c,u)=>{const l=typeof c=="function"?c(t):c;if(!Object.is(l,t)){const d=t;t=u??typeof l!="object"?l:Object.assign({},t,l),n.forEach(h=>h(t,d))}},s=()=>t,a={setState:r,getState:s,subscribe:c=>(n.add(c),()=>n.delete(c)),destroy:()=>{({VITE_CHAIN:"mainnet",VITE_VOTE_ADDRESS:"0xf913911b0cd39Ae9cDc37514439b41C3cbC28Da6",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1}&&"production")!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}};return t=e(r,s,a),a},ec=e=>e?wn(e):wn;function Ir(e,t){if(Object.is(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(const[r,s]of e)if(!Object.is(s,t.get(r)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(const r of e)if(!t.has(r))return!1;return!0}const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!1;for(let r=0;r<n.length;r++)if(!Object.prototype.hasOwnProperty.call(t,n[r])||!Object.is(e[n[r]],t[n[r]]))return!1;return!0}function yc(e,t,{batch:n={multicall:{wait:32}},pollingInterval:r=4e3,rank:s,retryCount:o,retryDelay:i,stallTimeout:a}={}){if(!e.length)throw new Error("must have at least one chain");let c=[];const u={},l={};for(const d of e){let h=!1;for(const p of t){const f=p(d);f&&(h=!0,c.some(({id:m})=>m===d.id)||(c=[...c,f.chain]),u[d.id]=[...u[d.id]||[],...f.rpcUrls.http],f.rpcUrls.webSocket&&(l[d.id]=[...l[d.id]||[],...f.rpcUrls.webSocket]))}if(!h)throw new Error([`Could not find valid provider configuration for chain "${d.name}".
`,"You may need to add `jsonRpcProvider` to `configureChains` with the chain's RPC URLs.","Read more: https://wagmi.sh/core/providers/jsonRpc"].join(`
`))}return{chains:c,publicClient:({chainId:d})=>{const h=c.find(m=>m.id===d)??e[0],p=u[h.id];if(!p||!p[0])throw new Error(`No providers configured for chain "${h.id}"`);const f=yn({batch:n,chain:h,transport:mn(p.map(m=>Di(m,{timeout:a})),{rank:s,retryCount:o,retryDelay:i}),pollingInterval:r});return Object.assign(f,{chains:c})},webSocketPublicClient:({chainId:d})=>{const h=c.find(m=>m.id===d)??e[0],p=l[h.id];if(!p||!p[0])return;const f=yn({batch:n,chain:h,transport:mn(p.map(m=>Ua(m,{timeout:a})),{rank:s,retryCount:o,retryDelay:i}),pollingInterval:r});return Object.assign(f,{chains:c})}}}var tc=class extends Error{constructor({activeChain:e,targetChain:t}){super(`Chain mismatch: Expected "${t}", received "${e}".`),this.name="ChainMismatchError"}},nc=class extends Error{constructor({chainId:e,connectorId:t}){super(`Chain "${e}" not configured${t?` for connector "${t}"`:""}.`),this.name="ChainNotConfigured"}},rc=class extends Error{constructor(){super(...arguments),this.name="ConnectorAlreadyConnectedError",this.message="Connector already connected"}},sc=class extends Error{constructor(){super(...arguments),this.name="ConfigChainsNotFound",this.message="No chains were found on the wagmi config. Some functions that require a chain may not work."}},oc=class extends Error{constructor({connector:e}){super(`"${e.name}" does not support programmatic chain switching.`),this.name="SwitchChainNotSupportedError"}},$t=(e,{find:t,replace:n})=>e&&t(e)?n(e):typeof e!="object"?e:Array.isArray(e)?e.map(r=>$t(r,{find:t,replace:n})):e instanceof Object?Object.entries(e).reduce((r,[s,o])=>({...r,[s]:$t(o,{find:t,replace:n})}),{}):e;function ic(e){const t=JSON.parse(e);return $t(t,{find:r=>typeof r=="string"&&r.startsWith("#bigint."),replace:r=>BigInt(r.replace("#bigint.",""))})}function ac(e){return{accessList:e.accessList,account:e.account,blockNumber:e.blockNumber,blockTag:e.blockTag,data:e.data,gas:e.gas,gasPrice:e.gasPrice,maxFeePerGas:e.maxFeePerGas,maxPriorityFeePerGas:e.maxPriorityFeePerGas,nonce:e.nonce,to:e.to,value:e.value}}function vn(e,t){return e.slice(0,t).join(".")||"."}function Pn(e,t){const{length:n}=e;for(let r=0;r<n;++r)if(e[r]===t)return r+1;return 0}function cc(e,t){const n=typeof e=="function",r=typeof t=="function",s=[],o=[];return function(a,c){if(typeof c=="object")if(s.length){const u=Pn(s,this);u===0?s[s.length]=this:(s.splice(u),o.splice(u)),o[o.length]=a;const l=Pn(s,c);if(l!==0)return r?t.call(this,a,c,vn(o,l)):`[ref=${vn(o,l)}]`}else s[0]=c,o[0]=a;return n?e.call(this,a,c):c}}function uc(e,t,n,r){return JSON.stringify(e,cc((s,o)=>{const i=typeof o=="bigint"?`#bigint.${o.toString()}`:o;return(t==null?void 0:t(s,i))||i},r),n??void 0)}var lc={getItem:e=>"",setItem:(e,t)=>null,removeItem:e=>null};function dc({deserialize:e=ic,key:t="wagmi",serialize:n=uc,storage:r}){return{...r,getItem:(s,o=null)=>{const i=r.getItem(`${t}.${s}`);try{return i?e(i):o}catch(a){return console.warn(a),o}},setItem:(s,o)=>{if(o===null)r.removeItem(`${t}.${s}`);else try{r.setItem(`${t}.${s}`,n(o))}catch(i){console.error(i)}},removeItem:s=>r.removeItem(`${t}.${s}`)}}var xn="store",Y,he,It,Tr,fc=class{constructor({autoConnect:e=!1,connectors:t=[new Ga],publicClient:n,storage:r=dc({storage:typeof window<"u"?window.localStorage:lc}),logger:s={warn:console.warn},webSocketPublicClient:o}){var u,l;lt(this,It),this.publicClients=new Map,this.webSocketPublicClients=new Map,lt(this,Y,void 0),lt(this,he,void 0),this.args={autoConnect:e,connectors:t,logger:s,publicClient:n,storage:r,webSocketPublicClient:o};let i="disconnected",a;if(e)try{const d=r.getItem(xn),h=(u=d==null?void 0:d.state)==null?void 0:u.data;i=h!=null&&h.account?"reconnecting":"connecting",a=(l=h==null?void 0:h.chain)==null?void 0:l.id}catch{}const c=typeof t=="function"?t():t;c.forEach(d=>d.setStorage(r)),this.store=ec(Va(Qa(()=>({connectors:c,publicClient:this.getPublicClient({chainId:a}),status:i,webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})}),{name:xn,storage:r,partialize:d=>{var h,p;return{...e&&{data:{account:(h=d==null?void 0:d.data)==null?void 0:h.account,chain:(p=d==null?void 0:d.data)==null?void 0:p.chain}},chains:d==null?void 0:d.chains}},version:2}))),this.storage=r,Te(this,he,r==null?void 0:r.getItem("wallet")),Wa(this,It,Tr).call(this),e&&typeof window<"u"&&setTimeout(async()=>await this.autoConnect(),0)}get chains(){return this.store.getState().chains}get connectors(){return this.store.getState().connectors}get connector(){return this.store.getState().connector}get data(){return this.store.getState().data}get error(){return this.store.getState().error}get lastUsedChainId(){var e,t;return(t=(e=this.data)==null?void 0:e.chain)==null?void 0:t.id}get publicClient(){return this.store.getState().publicClient}get status(){return this.store.getState().status}get subscribe(){return this.store.subscribe}get webSocketPublicClient(){return this.store.getState().webSocketPublicClient}setState(e){const t=typeof e=="function"?e(this.store.getState()):e;this.store.setState(t,!0)}clearState(){this.setState(e=>({...e,chains:void 0,connector:void 0,data:void 0,error:void 0,status:"disconnected"}))}async destroy(){var e,t;this.connector&&await((t=(e=this.connector).disconnect)==null?void 0:t.call(e)),Te(this,Y,!1),this.clearState(),this.store.destroy()}async autoConnect(){if(ut(this,Y))return;Te(this,Y,!0),this.setState(n=>{var r;return{...n,status:(r=n.data)!=null&&r.account?"reconnecting":"connecting"}});const e=ut(this,he)?[...this.connectors].sort(n=>n.id===ut(this,he)?-1:1):this.connectors;let t=!1;for(const n of e){if(!n.ready||!n.isAuthorized||!await n.isAuthorized())continue;const s=await n.connect();this.setState(o=>({...o,connector:n,chains:n==null?void 0:n.chains,data:s,status:"connected"})),t=!0;break}return t||this.setState(n=>({...n,data:void 0,status:"disconnected"})),Te(this,Y,!1),this.data}setConnectors(e){this.args={...this.args,connectors:e};const t=typeof e=="function"?e():e;t.forEach(n=>n.setStorage(this.args.storage)),this.setState(n=>({...n,connectors:t}))}getPublicClient({chainId:e}={}){let t=this.publicClients.get(-1);if(t&&(t==null?void 0:t.chain.id)===e||(t=this.publicClients.get(e??-1),t))return t;const{publicClient:n}=this.args;return t=typeof n=="function"?n({chainId:e}):n,this.publicClients.set(e??-1,t),t}setPublicClient(e){var n,r;const t=(r=(n=this.data)==null?void 0:n.chain)==null?void 0:r.id;this.args={...this.args,publicClient:e},this.publicClients.clear(),this.setState(s=>({...s,publicClient:this.getPublicClient({chainId:t})}))}getWebSocketPublicClient({chainId:e}={}){let t=this.webSocketPublicClients.get(-1);if(t&&(t==null?void 0:t.chain.id)===e||(t=this.webSocketPublicClients.get(e??-1),t))return t;const{webSocketPublicClient:n}=this.args;return t=typeof n=="function"?n({chainId:e}):n,t&&this.webSocketPublicClients.set(e??-1,t),t}setWebSocketPublicClient(e){var n,r;const t=(r=(n=this.data)==null?void 0:n.chain)==null?void 0:r.id;this.args={...this.args,webSocketPublicClient:e},this.webSocketPublicClients.clear(),this.setState(s=>({...s,webSocketPublicClient:this.getWebSocketPublicClient({chainId:t})}))}setLastUsedConnector(e=null){var t;(t=this.storage)==null||t.setItem("wallet",e)}};Y=new WeakMap;he=new WeakMap;It=new WeakSet;Tr=function(){const e=a=>{this.setState(c=>({...c,data:{...c.data,...a}}))},t=()=>{this.clearState()},n=a=>{this.setState(c=>({...c,error:a}))};this.store.subscribe(({connector:a})=>a,(a,c)=>{var u,l,d,h,p,f;(u=c==null?void 0:c.off)==null||u.call(c,"change",e),(l=c==null?void 0:c.off)==null||l.call(c,"disconnect",t),(d=c==null?void 0:c.off)==null||d.call(c,"error",n),a&&((h=a.on)==null||h.call(a,"change",e),(p=a.on)==null||p.call(a,"disconnect",t),(f=a.on)==null||f.call(a,"error",n))});const{publicClient:r,webSocketPublicClient:s}=this.args;(typeof r=="function"||typeof s=="function")&&this.store.subscribe(({data:a})=>{var c;return(c=a==null?void 0:a.chain)==null?void 0:c.id},a=>{this.setState(c=>({...c,publicClient:this.getPublicClient({chainId:a}),webSocketPublicClient:this.getWebSocketPublicClient({chainId:a})}))})};var Tt;function wc(e){const t=new fc(e);return Tt=t,t}function W(){if(!Tt)throw new Error("No wagmi config found. Ensure you have set up a config: https://wagmi.sh/react/config");return Tt}async function vc({chainId:e,connector:t}){const n=W(),r=n.connector;if(r&&t.id===r.id)throw new rc;try{n.setState(o=>({...o,status:"connecting"}));const s=await t.connect({chainId:e});return n.setLastUsedConnector(t.id),n.setState(o=>({...o,connector:t,chains:t==null?void 0:t.chains,data:s,status:"connected"})),n.storage.setItem("connected",!0),{...s,connector:t}}catch(s){throw n.setState(o=>({...o,status:o.connector?"connected":"disconnected"})),s}}function tt({chainId:e}={}){const t=W();return e&&t.getPublicClient({chainId:e})||t.publicClient}async function Or({chainId:e}={}){var r,s;return await((s=(r=W().connector)==null?void 0:r.getWalletClient)==null?void 0:s.call(r,{chainId:e}))||null}async function hc({abi:e,address:t,args:n,chainId:r,functionName:s,walletClient:o,...i}){const a=tt({chainId:r}),c=o??await Or({chainId:r});if(!c)throw new N;r&&_r({chainId:r});const{account:u,accessList:l,blockNumber:d,blockTag:h,gas:p,gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:b,nonce:y,value:g}=ac(i),{result:w,request:C}=await a.simulateContract({abi:e,address:t,functionName:s,args:n,account:u||c.account,accessList:l,blockNumber:d,blockTag:h,gas:p,gasPrice:f,maxFeePerGas:m,maxPriorityFeePerGas:b,nonce:y,value:g}),P=e.filter(E=>"name"in E&&E.name===s);return{mode:"prepared",request:{...C,abi:P,chainId:r},result:w}}async function Pc({chainId:e,contracts:t,blockNumber:n,blockTag:r,...s}){const o=tt({chainId:e});if(!o.chains)throw new sc;if(e&&o.chain.id!==e)throw new nc({chainId:e});return o.multicall({allowFailure:s.allowFailure??!0,blockNumber:n,blockTag:r,contracts:t})}async function xc({address:e,account:t,chainId:n,abi:r,args:s,functionName:o,blockNumber:i,blockTag:a}){return tt({chainId:n}).readContract({abi:r,address:e,account:t,functionName:o,args:s,blockNumber:i,blockTag:a})}async function Ec(e){const t=await Or({chainId:e.chainId});if(!t)throw new N;e.chainId&&_r({chainId:e.chainId});let n;if(e.mode==="prepared")n=e;else{const{chainId:s,mode:o,...i}=e;n=(await hc(i)).request}return{hash:await t.writeContract({...n,chain:null})}}function pc(){const{data:e,connector:t,status:n}=W();switch(n){case"connected":return{address:e==null?void 0:e.account,connector:t,isConnected:!0,isConnecting:!1,isDisconnected:!1,isReconnecting:!1,status:n};case"reconnecting":return{address:e==null?void 0:e.account,connector:t,isConnected:!!(e!=null&&e.account),isConnecting:!1,isDisconnected:!1,isReconnecting:!0,status:n};case"connecting":return{address:e==null?void 0:e.account,connector:t,isConnected:!1,isConnecting:!0,isDisconnected:!1,isReconnecting:!1,status:n};case"disconnected":return{address:void 0,connector:void 0,isConnected:!1,isConnecting:!1,isDisconnected:!0,isReconnecting:!1,status:n}}}function Fr(){var s,o,i,a;const e=W(),t=(o=(s=e.data)==null?void 0:s.chain)==null?void 0:o.id,n=e.chains??[],r=[...((i=e.publicClient)==null?void 0:i.chains)||[],...n].find(c=>c.id===t)??{id:t,name:`Chain ${t}`,network:`${t}`,nativeCurrency:{name:"Ether",decimals:18,symbol:"ETH"},rpcUrls:{default:{http:[""]},public:{http:[""]}}};return{chain:t?{...r,...(a=e.data)==null?void 0:a.chain,id:t}:void 0,chains:n}}async function Cc({chainId:e}){const{connector:t}=W();if(!t)throw new N;if(!t.switchChain)throw new oc({connector:t});return t.switchChain(e)}function Ac(e,{selector:t=n=>n}={}){const n=W(),r=()=>e(pc());return n.subscribe(({data:o,connector:i,status:a})=>t({address:o==null?void 0:o.account,connector:i,status:a}),r,{equalityFn:Ir})}function Sc(e,{selector:t=n=>n}={}){const n=W(),r=()=>e(Fr());return n.subscribe(({data:o,chains:i})=>{var a;return t({chainId:(a=o==null?void 0:o.chain)==null?void 0:a.id,chains:i})},r,{equalityFn:Ir})}async function kc({chainId:e,confirmations:t=1,hash:n,onReplaced:r,timeout:s=0}){const o=tt({chainId:e}),i=await o.waitForTransactionReceipt({hash:n,confirmations:t,onReplaced:r,timeout:s});if(i.status==="reverted"){const a=await o.getTransaction({hash:i.transactionHash}),c=await o.call({...a,gasPrice:a.type!=="eip1559"?a.gasPrice:void 0,maxFeePerGas:a.type==="eip1559"?a.maxFeePerGas:void 0,maxPriorityFeePerGas:a.type==="eip1559"?a.maxPriorityFeePerGas:void 0}),u=Tn(`0x${c.substring(138)}`);throw new Error(u)}return i}function _r({chainId:e}){var s,o;const{chain:t,chains:n}=Fr(),r=t==null?void 0:t.id;if(r&&e!==r)throw new tc({activeChain:((s=n.find(i=>i.id===r))==null?void 0:s.name)??`Chain ${r}`,targetChain:((o=n.find(i=>i.id===e))==null?void 0:o.name)??`Chain ${e}`})}export{M as A,v as B,ds as C,Br as E,pe as H,ye as I,fe as U,tt as a,pc as b,vc as c,Ec as d,kc as e,Xn as f,Fr as g,Ac as h,yc as i,wc as j,mc as k,qa as l,Pc as m,ji as n,Oe as o,De as p,$ as q,xc as r,Cc as s,D as t,re as u,Lo as v,Sc as w,Ze as x,R as y,xe as z};
