function i(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function s(t,e){return i(t)?Object.prototype.hasOwnProperty.call(t,e):!1}function l(t){return Object.entries(t)}function a(t,e){return Object.fromEntries(l(t).filter(([r,n],o)=>e(r,n,o)))}const c=t=>s(t,"install")&&typeof t.install=="function";async function u(){return(await Promise.all(Object.values(Object.assign({})).map(r=>r()))).flatMap(r=>a(r,(n,o)=>c(o))).sort((r,n)=>(r.priority||0)-(n.priority||0))}async function f(t){for(const e of await u())await e.install(t)}export{u as getAllModules,c as isUserModule,f as registerModules};
